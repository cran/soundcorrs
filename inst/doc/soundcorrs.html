<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Kamil Stachowski" />

<meta name="date" content="2020-09-18" />

<title>soundcorrs: Semi-Automatic Analysis of Sound Correspondences (v0.3.0)</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">soundcorrs: Semi-Automatic Analysis of Sound Correspondences (v0.3.0)</h1>
<h4 class="author"><em>Kamil Stachowski</em></h4>
<h4 class="date"><em>2020-09-18</em></h4>



<!-- introduction ================================================================================ {{{ -->
<p>‘soundcorrs’ is a small package whose purpose is to help linguists analyse sound correspondences between languages. It does not attempt to draw any conclusions on its own; this responsibility is placed entirely on the user. ‘soundcorrs’ merely automates and facilitates certain tasks, such as preparing the material part of the paper, looking for examples of specific correspondences, or applying series of sound changes, and, by making various functions available, suggests possible paths of analysis which may not be immediately obvious to the more traditional linguist.</p>
<p>This vignette assumes that the reader not only is a linguist and has at least a general idea about what kind of outputs he or she might want from ‘soundcorrs’, but also has at least a passing familiarity with R and a basic understanding of statistics. Most problems can probably be read up on as they appear in the text, but it is nevertheless recommended to start by very briefly acquainting oneself with R by reading the first page of maybe <a href="https://www.statmethods.net/r-tutorial/index.html">Quick-R</a>, <a href="http://www.r-tutor.com/r-introduction">R Tutorial</a>, or another R primer. In particular, it is assumed that the reader will know how to access and understand the built-in documentation, as not all of the arguments are discussed here. Another topic that is highly recommended, as without it ‘soundcorrs’ cannot be used to its full potential, are regular expressions. An accessible introduction can be found in R.D. Peng’s <a href="https://bookdown.org/rdpeng/rprogdatascience/regular-expressions.html"><em>R Programming for Data Science</em></a>, as well as in many other places around the Internet, and a handy <a href="https://rstudio.com/wp-content/uploads/2016/09/RegExCheatsheet.pdf">cheat sheet</a> has been made available by <a href="https://rstudio.com">RStudio</a>.</p>
<p>Though a little dated by now, a less technical introduction to ‘soundcorrs’ is also available in Stachowski K. 2020. Tools for Semi-Automatic Analysis of Sound Correspondences: The <em>soundcorrs</em> Package for R. <em>Glottometrics</em> 49. 66–86. If you use ‘soundcorrs’ in your research, please cite this paper.</p>
<p>The first section of this vignette discusses in short how to prepare data for ‘soundcorrs’. The second section is an overview of all the analytic functions exported by ‘soundcorrs’ organized by their output, and of helper functions in the alphabetical order.</p>
<p>‘soundcorrs’ functions operate on pairs/triples/… of words which come from different languages. The discussion below will use ‘L1’ to refer to the first language in the dataset, ‘L2’ to the second, etc.</p>
<p>Naturally, all the examples given below assume that ‘soundcorrs’ is installed and loaded:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages (&quot;soundcorrs&quot;)</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span> (soundcorrs)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co">. Version 0.2.0 introduced some important changes.</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; Please run vignette(&quot;soundcorrs&quot;)</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt;  and consult https://cran.r-project.org/web/packages/soundcorrs/NEWS.</span></a></code></pre></div>
<!-- ============================================================================================= }}} -->
<!-- data preparation ============================================================================ {{{ -->
<div id="data-preparation" class="section level1">
<h1>Data preparation</h1>
<p>Whether you intend to use ‘soundcorrs’ for analysis of sound correspondences or sound changes, you will need to define a transcription. For sound correspondences, you will additionally need to segment and align word pairs/triples/…, and for sound changes, define the sound changes. Transcription and word pairs/triples/… are stored in tsv files, i.e. as tab-separated tables in text files. Sound changes are functions, so they are stored as R code.</p>
<p>Under BSD, Linux, and macOS, the recommended encoding is UTF-8. Unfortunately, it has been found to cause problems under Windows, so Windows users are advised to not use characters outside of the ASCII standard. Some issues can be fixed by converting from UTF-8 to UTF-8 (sic!) with ‘iconv()’, but others resist this and other treatments. Future versions of ‘soundcorrs’ hope to include a solution for this problem.</p>
<!-- transcription ------------------------------------------------------------------------------- {{{ -->
<div id="transcription" class="section level2">
<h2>Transcription</h2>
<p>Transcription is not strictly necessary for the very functioning of ‘soundcorrs’, but without it linguistic regular expresssions (“wildcards”) could not be defined, and involvement of phonetics in the analysis would be made more difficult. Transcription is stored in tsv files with two or three columns:</p>
<ul>
<li><p>GRAPHEME, which contains the graphemes. Characters used by R as metacharacters in regular expressions, i.e. . + * ^  $ ? | ( ) [ ] { }, are not allowed. Multigraphs also should not be used as they can lead to unexpected and incorrect results, especially in the case metacharacters (“wildcards”).</p></li>
<li><p>VALUE, which contains a comma-separated list of features of the given grapheme. These are intended to be phonetic but do not necessarily have to be so. If the column META is missing, it is generated based on the column VALUE.</p></li>
<li><p>META, which contains a regular expression covering all the graphemes the given grapheme is meant to represent. In regular graphemes, this is simply the grapheme itself. In a metacharacter, such as ‘C’ for ‘any consonant’, this needs to be a listing of all consonantal graphemes in the transcription file, formatted as a regular expression. It is recommended to leave this column empty, as in such case ‘soundcorrs’ will generate it automatically. Beware, however, that in this process any grapheme whose value is a subset of the value of another grapheme, will become a metacharacter for that other grapheme.</p></li>
</ul>
<p>‘soundcorrs’ contains two sample transcription files: ‘trans-common.tsv’ and ‘trans-ipa.tsv’. Both only cover the basics and are intended more as an illustration than anything else. The paths of the data files can be established with ‘system.file()’ as in the snippet below, or the entire ‘transcription’ objects can be loaded using ‘loadSampleDataset()’ (see below).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># establish the paths of the samples included in ‘soundcorrs’</span></a>
<a class="sourceLine" id="cb2-2" title="2">path.trans.com &lt;-<span class="st"> </span><span class="kw">system.file</span> (<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;trans-common.tsv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;soundcorrs&quot;</span>)</a>
<a class="sourceLine" id="cb2-3" title="3">path.trans.ipa &lt;-<span class="st"> </span><span class="kw">system.file</span> (<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;trans-ipa.tsv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;soundcorrs&quot;</span>)</a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co"># and load them</span></a>
<a class="sourceLine" id="cb2-6" title="6">trans.com &lt;-<span class="st"> </span><span class="kw">read.transcription</span> (path.trans.com)</a>
<a class="sourceLine" id="cb2-7" title="7">trans.ipa &lt;-<span class="st"> </span><span class="kw">read.transcription</span> (path.trans.ipa)</a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; Warning in transcription(data, col.grapheme, col.meta, col.value): Missing</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt; the metacharacters column. The &quot;META&quot; column was generated.</span></a>
<a class="sourceLine" id="cb2-10" title="10"></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co"># transcription needs to be an object of class ‘transcription’</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="kw">class</span> (trans.com)</a>
<a class="sourceLine" id="cb2-13" title="13"><span class="co">#&gt; [1] &quot;transcription&quot;</span></a>
<a class="sourceLine" id="cb2-14" title="14"></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co"># a basic summary</span></a>
<a class="sourceLine" id="cb2-16" title="16">trans.com</a>
<a class="sourceLine" id="cb2-17" title="17"><span class="co">#&gt; A &quot;transcription&quot; object.</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="co">#&gt;   File: /tmp/RtmpuumB5F/Rinst5910145558fb/soundcorrs/extdata/trans-common.tsv.</span></a>
<a class="sourceLine" id="cb2-19" title="19"><span class="co">#&gt;   Graphemes: 75.</span></a>
<a class="sourceLine" id="cb2-20" title="20"></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="co"># ‘data’ is the original data frame</span></a>
<a class="sourceLine" id="cb2-22" title="22"><span class="co"># ‘cols’ is a guide to column names in ‘data’</span></a>
<a class="sourceLine" id="cb2-23" title="23"><span class="co"># ‘meta’ is a vector of characters which act as metacharacters</span></a>
<a class="sourceLine" id="cb2-24" title="24"><span class="co"># ‘values’ is a named list of the values of graphemes, exploded into vectors</span></a>
<a class="sourceLine" id="cb2-25" title="25"><span class="co"># ‘zero’ are the characters denoting the linguistic zero</span></a>
<a class="sourceLine" id="cb2-26" title="26"><span class="kw">str</span> (trans.com, <span class="dt">max.level=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb2-27" title="27"><span class="co">#&gt; List of 5</span></a>
<a class="sourceLine" id="cb2-28" title="28"><span class="co">#&gt;  $ data  :'data.frame':  75 obs. of  3 variables:</span></a>
<a class="sourceLine" id="cb2-29" title="29"><span class="co">#&gt;  $ cols  :List of 3</span></a>
<a class="sourceLine" id="cb2-30" title="30"><span class="co">#&gt;  $ meta  : Named chr [1:7] &quot;(ᴍ|m|p|ʙ|b|φ|β|f|v|n|ɴ|t|ᴅ|d|c|ʒ|s|ᴢ|z|θ|δ|l|ʟ|č|ǯ|š|ž|ś|ź|ć|r|ʀ|ŋ|k|ɢ|g|χ|γ|h|ɦ)&quot; &quot;(ᴍ|m|n|ɴ|ŋ)&quot; &quot;(p|ʙ|b|t|ᴅ|d|k|ɢ|g)&quot; &quot;(s|ᴢ|z|š|ž|ś|ź)&quot; ...</span></a>
<a class="sourceLine" id="cb2-31" title="31"><span class="co">#&gt;   ..- attr(*, &quot;names&quot;)= chr [1:7] &quot;C&quot; &quot;N&quot; &quot;P&quot; &quot;S&quot; ...</span></a>
<a class="sourceLine" id="cb2-32" title="32"><span class="co">#&gt;  $ values:List of 75</span></a>
<a class="sourceLine" id="cb2-33" title="33"><span class="co">#&gt;  $ zero  : chr &quot;-&quot;</span></a>
<a class="sourceLine" id="cb2-34" title="34"><span class="co">#&gt;  - attr(*, &quot;class&quot;)= chr &quot;transcription&quot;</span></a>
<a class="sourceLine" id="cb2-35" title="35"><span class="co">#&gt;  - attr(*, &quot;file&quot;)= chr &quot;/tmp/RtmpuumB5F/Rinst5910145558fb/soundcorrs/extdata/trans-common.tsv&quot;</span></a></code></pre></div>
<!-- --------------------------------------------------------------------------------------------- }}} -->
<!-- data ---------------------------------------------------------------------------------------- {{{ -->
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p>Like the transcription, the data are also stored in tsv files. Two formats are theoretically possible: the “long format” in which every word is given its own row, and the “wide format” in which one row holds a pair/triple/… of words (see below).</p>
<p>With the notable exception of sound changes, words need to be segmented for most tasks in ‘soundcorrs’, and all words in a pair/triple/… must have the same number of segments. The default segment separator is ‘|’. If the words are not segmented, the function ‘addSeparators()’ can be used to facilitate the process of manual segmentation and alignment (see below). Tools for automatic alignment also exist (e.g. <a href="https://CRAN.R-project.org/package=alineR">alineR</a>, <a href="http://lingpy.org/">LingPy</a>, <a href="http://pyaline.sourceforge.net/">PyAline</a>), but it is recommended that their results be thoroughly checked by a human. Apart from the segmented and aligned form, each word must be assigned a language.</p>
<p>Hence, the two obligatory columns in the “long format” are</p>
<ul>
<li><p>ALIGNED which holds the segmented and aligned word, and</p></li>
<li><p>LANGUAGE which holds the name of the language.</p></li>
</ul>
<p>In the “wide format”, similarly, a minimum of two columns is necessary, each holding words from a different language. The information about which column holds which language can then be encoded simply as column names (e.g. ‘LATIN’), or in the form of a suffix attached to the names (e.g. ‘ALIGNED.Latin’).</p>
<p>Regarding the two formats, see also ‘long2wide()’ and ‘wide2long()’ below.</p>
<p>It is possible, though not necessarily recommended, to store data from each language in a separate file; it is also possible to use a different transcription for each language. This flexibility can easily lead to a somewhat cumbersome string of arguments for the reader function, so the ‘read.soundcorrs’ function is limited to reading the data for just one language. Individual ‘soundcorrs’ objects can be then combined into one using the ‘merge’ function. The reader function only accepts data in the “wide format”.</p>
<p>‘soundcorrs’ has three sample datasets: 1. the entirely made-up ‘data-abc.tsv’; 2. ‘data-capitals.tsv’ which contains the names of EU capitals in German, Polish and Spanish – from the linguistic point of view, this of course makes no sense; it is merely an example that will hopefully not be seen as too exotic regardless of which language or languages the user specializes in (my gratitude is due to José Andrés Alonso de la Fuente, PhD (Cracow, Poland) for help with Spanish data); and 3. ‘data-ie.tsv’ with a dozen examples of Grimm’s and Verner’s laws (adapted from Campbell L. 2013. <em>Historical Linguistics. An Introduction</em>. Edinburgh University Press. Pp. 136f). The ‘abc’ dataset is in the “long format”, the ‘capitals’ and ‘ie’ datasets are in the “wide format”. The paths of the data files can be established with ‘system.file()’ as in the snippet below, or the entire ‘soundcorrs’ objects can be loaded using ‘loadSampleDataset()’ (see below).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># establish the paths of the two datasets</span></a>
<a class="sourceLine" id="cb3-2" title="2">path.abc &lt;-<span class="st"> </span><span class="kw">system.file</span> (<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;data-abc.tsv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;soundcorrs&quot;</span>)</a>
<a class="sourceLine" id="cb3-3" title="3">path.cap &lt;-<span class="st"> </span><span class="kw">system.file</span> (<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;data-capitals.tsv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;soundcorrs&quot;</span>)</a>
<a class="sourceLine" id="cb3-4" title="4">path.ie &lt;-<span class="st"> </span><span class="kw">system.file</span> (<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;data-ie.tsv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;soundcorrs&quot;</span>)</a>
<a class="sourceLine" id="cb3-5" title="5"></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co"># read “capitals”</span></a>
<a class="sourceLine" id="cb3-7" title="7">d.cap.ger &lt;-<span class="st"> </span><span class="kw">read.soundcorrs</span> (path.cap, <span class="st">&quot;German&quot;</span>, <span class="st">&quot;ALIGNED.German&quot;</span>, path.trans.com)</a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt; Warning in soundcorrs(data, name, col.aligned,</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt; read.transcription(transcription), : The following segments are not covered</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt; by the transcription: jus, ŋk.</span></a>
<a class="sourceLine" id="cb3-11" title="11">d.cap.pol &lt;-<span class="st"> </span><span class="kw">read.soundcorrs</span> (path.cap, <span class="st">&quot;Polish&quot;</span>, <span class="st">&quot;ALIGNED.Polish&quot;</span>, path.trans.com)</a>
<a class="sourceLine" id="cb3-12" title="12"><span class="co">#&gt; Warning in soundcorrs(data, name, col.aligned,</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">#&gt; read.transcription(transcription), : The following segments are not covered</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co">#&gt; by the transcription: ń, ẃ.</span></a>
<a class="sourceLine" id="cb3-15" title="15">d.cap.spa &lt;-<span class="st"> </span><span class="kw">read.soundcorrs</span> (path.cap, <span class="st">&quot;Spanish&quot;</span>, <span class="st">&quot;ALIGNED.Spanish&quot;</span>, path.trans.com)</a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">#&gt; Warning in soundcorrs(data, name, col.aligned,</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="co">#&gt; read.transcription(transcription), : The following segments are not covered</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co">#&gt; by the transcription: ð, ja, ŋk.</span></a>
<a class="sourceLine" id="cb3-19" title="19">d.cap &lt;-<span class="st"> </span><span class="kw">merge</span> (d.cap.ger, d.cap.pol, d.cap.spa)</a>
<a class="sourceLine" id="cb3-20" title="20"></a>
<a class="sourceLine" id="cb3-21" title="21"><span class="co"># read “ie”</span></a>
<a class="sourceLine" id="cb3-22" title="22">d.ie.lat &lt;-<span class="st"> </span><span class="kw">read.soundcorrs</span> (path.ie, <span class="st">&quot;Lat&quot;</span>, <span class="st">&quot;LATIN&quot;</span>, path.trans.com)</a>
<a class="sourceLine" id="cb3-23" title="23">d.ie.eng &lt;-<span class="st"> </span><span class="kw">read.soundcorrs</span> (path.ie, <span class="st">&quot;Eng&quot;</span>, <span class="st">&quot;ENGLISH&quot;</span>, path.trans.ipa)</a>
<a class="sourceLine" id="cb3-24" title="24"><span class="co">#&gt; Warning in transcription(data, col.grapheme, col.meta, col.value): Missing</span></a>
<a class="sourceLine" id="cb3-25" title="25"><span class="co">#&gt; the metacharacters column. The &quot;META&quot; column was generated.</span></a>
<a class="sourceLine" id="cb3-26" title="26"><span class="co">#&gt; Warning in soundcorrs(data, name, col.aligned,</span></a>
<a class="sourceLine" id="cb3-27" title="27"><span class="co">#&gt; read.transcription(transcription), : The following segments are not covered</span></a>
<a class="sourceLine" id="cb3-28" title="28"><span class="co">#&gt; by the transcription: eɪ, ɪ, aʊ, uː, ɑː, ʊ, iː.</span></a>
<a class="sourceLine" id="cb3-29" title="29">d.ie &lt;-<span class="st"> </span><span class="kw">merge</span> (d.ie.lat, d.ie.eng)</a>
<a class="sourceLine" id="cb3-30" title="30"></a>
<a class="sourceLine" id="cb3-31" title="31"><span class="co"># read “abc”</span></a>
<a class="sourceLine" id="cb3-32" title="32">tmp &lt;-<span class="st"> </span><span class="kw">long2wide</span> (<span class="kw">read.table</span>(path.abc,<span class="dt">header=</span>T), <span class="dt">skip=</span><span class="kw">c</span>(<span class="st">&quot;ID&quot;</span>))</a>
<a class="sourceLine" id="cb3-33" title="33">d.abc.l1 &lt;-<span class="st"> </span><span class="kw">soundcorrs</span> (tmp, <span class="st">&quot;L1&quot;</span>, <span class="st">&quot;ALIGNED.L1&quot;</span>, trans.com)</a>
<a class="sourceLine" id="cb3-34" title="34">d.abc.l2 &lt;-<span class="st"> </span><span class="kw">soundcorrs</span> (tmp, <span class="st">&quot;L2&quot;</span>, <span class="st">&quot;ALIGNED.L2&quot;</span>, trans.com)</a>
<a class="sourceLine" id="cb3-35" title="35">d.abc &lt;-<span class="st"> </span><span class="kw">merge</span> (d.abc.l1, d.abc.l2)</a>
<a class="sourceLine" id="cb3-36" title="36"></a>
<a class="sourceLine" id="cb3-37" title="37"><span class="co"># some basic summary</span></a>
<a class="sourceLine" id="cb3-38" title="38">d.abc.l1</a>
<a class="sourceLine" id="cb3-39" title="39"><span class="co">#&gt; A &quot;soundcorrs&quot; object.</span></a>
<a class="sourceLine" id="cb3-40" title="40"><span class="co">#&gt;   Languages (1): L1.</span></a>
<a class="sourceLine" id="cb3-41" title="41"><span class="co">#&gt;   Entries: 6.</span></a>
<a class="sourceLine" id="cb3-42" title="42"><span class="co">#&gt;   Columns (7): ID, DIALECT.L1, ALIGNED.L1, ORTHOGRAPHY.L1, DIALECT.L2, ALIGNED.L2, ORTHOGRAPHY.L2.</span></a>
<a class="sourceLine" id="cb3-43" title="43">d.abc</a>
<a class="sourceLine" id="cb3-44" title="44"><span class="co">#&gt; A &quot;soundcorrs&quot; object.</span></a>
<a class="sourceLine" id="cb3-45" title="45"><span class="co">#&gt;   Languages (2): L1, L2.</span></a>
<a class="sourceLine" id="cb3-46" title="46"><span class="co">#&gt;   Entries: 6.</span></a>
<a class="sourceLine" id="cb3-47" title="47"><span class="co">#&gt;   Columns (7): ID, DIALECT.L1, ALIGNED.L1, ORTHOGRAPHY.L1, DIALECT.L2, ALIGNED.L2, ORTHOGRAPHY.L2.</span></a>
<a class="sourceLine" id="cb3-48" title="48"></a>
<a class="sourceLine" id="cb3-49" title="49"><span class="co"># ‘cols’ are the names of important columns</span></a>
<a class="sourceLine" id="cb3-50" title="50"><span class="co"># ‘data’ is the original data frame</span></a>
<a class="sourceLine" id="cb3-51" title="51"><span class="co"># ‘names’ are the names of the languages</span></a>
<a class="sourceLine" id="cb3-52" title="52"><span class="co"># ‘segms’ are words exploded into segments; ‘$z’ is a variant with linguistic zeros; ‘$nz’ without them</span></a>
<a class="sourceLine" id="cb3-53" title="53"><span class="co"># ‘segpos’ is a lookup list to check which character belongs to which segment; ‘$z’ is a variant with linguistic zeros; ‘$nz’ without them</span></a>
<a class="sourceLine" id="cb3-54" title="54"><span class="co"># ‘separators’ are the strings used as segment separators</span></a>
<a class="sourceLine" id="cb3-55" title="55"><span class="co"># ‘trans’ are ‘transcription’ objects</span></a>
<a class="sourceLine" id="cb3-56" title="56"><span class="co"># ‘words’ are words obtained by removing separators from the ‘col.aligned’ column; ‘$z’ is a variant with linguistic zeros; ‘$nz’ without them</span></a>
<a class="sourceLine" id="cb3-57" title="57"><span class="kw">str</span> (d.abc, <span class="dt">max.level=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb3-58" title="58"><span class="co">#&gt; List of 8</span></a>
<a class="sourceLine" id="cb3-59" title="59"><span class="co">#&gt;  $ cols      :List of 2</span></a>
<a class="sourceLine" id="cb3-60" title="60"><span class="co">#&gt;  $ data      :'data.frame':  6 obs. of  7 variables:</span></a>
<a class="sourceLine" id="cb3-61" title="61"><span class="co">#&gt;  $ names     : chr [1:2] &quot;L1&quot; &quot;L2&quot;</span></a>
<a class="sourceLine" id="cb3-62" title="62"><span class="co">#&gt;  $ segms     :List of 2</span></a>
<a class="sourceLine" id="cb3-63" title="63"><span class="co">#&gt;  $ segpos    :List of 2</span></a>
<a class="sourceLine" id="cb3-64" title="64"><span class="co">#&gt;  $ separators: chr [1:2] &quot;\\|&quot; &quot;\\|&quot;</span></a>
<a class="sourceLine" id="cb3-65" title="65"><span class="co">#&gt;  $ trans     :List of 2</span></a>
<a class="sourceLine" id="cb3-66" title="66"><span class="co">#&gt;  $ words     :List of 2</span></a>
<a class="sourceLine" id="cb3-67" title="67"><span class="co">#&gt;  - attr(*, &quot;class&quot;)= chr &quot;soundcorrs&quot;</span></a></code></pre></div>
<!-- --------------------------------------------------------------------------------------------- }}} -->
<!-- sound changes ------------------------------------------------------------------------------- {{{ -->
</div>
<div id="sound-changes" class="section level2">
<h2>Sound changes</h2>
<p>Unlike the transcription and linguistic data, sound changes in ‘soundcorrs’ are in fact bits of code. (The distinction is in fact less than sharp in R, but this is a separate topic.) This gives the user much greater control, while remaining convenient because simple sound changes can be translated automatically.</p>
<p>A sound change function must take two arguments: ‘x’ and ‘meta’, where ‘x’ is a character string to which the change is to be applied, and ‘meta’ is a piece of metadata that might need to be taken into account. The return value of a sound change function must be a vector of character strings, possibly of length 1, i.e. a single character string. The ability to output multiple strings, however, is important because it allows for regressive changes (e.g. to account for both possible sources of a vowel that merged with another vowel).</p>
<p>A sound change function is not expected to be used directly by the user. It is intended to be wrapped in a ‘soundchange’ object using the ‘soundchange()’ constructor function. Apart from the function itself, such an object holds the name and a brief description of the change.</p>
<p>Simpler changes, ones that can be written in the form of a single regular expression, need not be explicitly defined as functions. The ‘soundchange()’ constructor accepts both functions and character strings; the latter are then converted into functions automatically. Such a string must contain exactly one ‘&gt;’ or ‘&lt;’, possibly surrounded by spaces.</p>
<p>‘soundcorrs’ contains three sample changes files: ‘change-dl2l.R’, ‘change-palatalization.R’, and ‘change-rhotacism.R’. The paths of the data files can be established with ‘system.file()’ as was done with ‘transcription’ and ‘soundcorrs’ object above, or the entire ‘soundchange’ objects can be loaded using ‘loadSampleDataset()’ (see below). Note that these sample changes are stored as pieces of R code, so they must be loaded using ‘source()’ rather than ‘read.table’ or similar.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># a simple sound change</span></a>
<a class="sourceLine" id="cb4-2" title="2">sc.V2a &lt;-<span class="st"> </span><span class="kw">soundchange</span> (<span class="st">&quot;V &gt; a&quot;</span>, <span class="st">&quot;V&gt;a&quot;</span>, trans.com, <span class="st">&quot;All vowels change into a.&quot;</span>)</a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co"># basic summary</span></a>
<a class="sourceLine" id="cb4-5" title="5">sc.V2a</a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt; A &quot;soundchange&quot; object.</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt;   Name: V&gt;a.</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt;   Description: All vowels change into a.</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt;   Transcription: /tmp/RtmpuumB5F/Rinst5910145558fb/soundcorrs/extdata/trans-common.tsv.</span></a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co"># ‘name’ is the name of the sound change</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="co"># ‘desc’ is a brief description</span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="co"># ‘fun’ is the sound change function</span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="co"># ‘trans’ is the transcription used in the change function</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="kw">str</span> (sc.V2a, <span class="dt">max.level=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-16" title="16"><span class="co">#&gt; List of 4</span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="co">#&gt;  $ name : chr &quot;V&gt;a&quot;</span></a>
<a class="sourceLine" id="cb4-18" title="18"><span class="co">#&gt;  $ desc : chr &quot;All vowels change into a.&quot;</span></a>
<a class="sourceLine" id="cb4-19" title="19"><span class="co">#&gt;  $ fun  :function (x, meta)  </span></a>
<a class="sourceLine" id="cb4-20" title="20"><span class="co">#&gt;  $ trans:List of 5</span></a>
<a class="sourceLine" id="cb4-21" title="21"><span class="co">#&gt;   ..- attr(*, &quot;class&quot;)= chr &quot;transcription&quot;</span></a>
<a class="sourceLine" id="cb4-22" title="22"><span class="co">#&gt;   ..- attr(*, &quot;file&quot;)= chr &quot;/tmp/RtmpuumB5F/Rinst5910145558fb/soundcorrs/extdata/trans-common.tsv&quot;</span></a>
<a class="sourceLine" id="cb4-23" title="23"><span class="co">#&gt;  - attr(*, &quot;class&quot;)= chr &quot;soundchange&quot;</span></a>
<a class="sourceLine" id="cb4-24" title="24"></a>
<a class="sourceLine" id="cb4-25" title="25"><span class="co"># if need be, functions inside ‘soundchange’ objects can be applied directly</span></a>
<a class="sourceLine" id="cb4-26" title="26">sc.V2a<span class="op">$</span><span class="kw">fun</span> (<span class="st">&quot;ouroboros&quot;</span>, <span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb4-27" title="27"><span class="co">#&gt; [1] &quot;aarabaras&quot;</span></a>
<a class="sourceLine" id="cb4-28" title="28"></a>
<a class="sourceLine" id="cb4-29" title="29"><span class="co"># a slightly more complex change</span></a>
<a class="sourceLine" id="cb4-30" title="30">sc.VV2a &lt;-<span class="st"> </span><span class="kw">soundchange</span> (<span class="st">&quot;V{2,} &gt; a&quot;</span>, <span class="st">&quot;VV&gt;a&quot;</span>, trans.com, <span class="st">&quot;Only diphthongs change into a.&quot;</span>)</a>
<a class="sourceLine" id="cb4-31" title="31">sc.VV2a<span class="op">$</span><span class="kw">fun</span> (<span class="st">&quot;ouroboros&quot;</span>, <span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb4-32" title="32"><span class="co">#&gt; [1] &quot;aroboros&quot;</span></a>
<a class="sourceLine" id="cb4-33" title="33"></a>
<a class="sourceLine" id="cb4-34" title="34"><span class="co"># a slightly more complex change</span></a>
<a class="sourceLine" id="cb4-35" title="35">sc.CV2Ca &lt;-<span class="st"> </span><span class="kw">soundchange</span> (<span class="st">&quot;(C)V &gt; </span><span class="ch">\\</span><span class="st">1a&quot;</span>, <span class="st">&quot;CV&gt;Ca&quot;</span>, trans.com, <span class="st">&quot;Only postconsonantal vowels change into a.&quot;</span>)</a>
<a class="sourceLine" id="cb4-36" title="36">sc.CV2Ca<span class="op">$</span><span class="kw">fun</span> (<span class="st">&quot;ouroboros&quot;</span>, <span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb4-37" title="37"><span class="co">#&gt; [1] &quot;ourabaras&quot;</span></a>
<a class="sourceLine" id="cb4-38" title="38"></a>
<a class="sourceLine" id="cb4-39" title="39"><span class="co"># a more complex sound change</span></a>
<a class="sourceLine" id="cb4-40" title="40">sc<span class="fl">.2</span>ndV2a.fun &lt;-<span class="st"> </span><span class="cf">function</span> (x, meta) {</a>
<a class="sourceLine" id="cb4-41" title="41">    tmp &lt;-<span class="st"> </span><span class="kw">gregexpr</span> (<span class="kw">expandMeta</span>(trans.com,<span class="st">&quot;V+&quot;</span>), x)</a>
<a class="sourceLine" id="cb4-42" title="42">    <span class="kw">regmatches</span>(x,tmp)[[<span class="dv">1</span>]][<span class="dv">2</span>] &lt;-<span class="st"> &quot;a&quot;</span></a>
<a class="sourceLine" id="cb4-43" title="43">    <span class="kw">return</span> (x)</a>
<a class="sourceLine" id="cb4-44" title="44">}</a>
<a class="sourceLine" id="cb4-45" title="45">sc<span class="fl">.2</span>ndV2a &lt;-<span class="st"> </span><span class="kw">soundchange</span> (sc<span class="fl">.2</span>ndV2a.fun, <span class="st">&quot;2ndV&gt;a&quot;</span>, trans.com,</a>
<a class="sourceLine" id="cb4-46" title="46">    <span class="st">&quot;Only the vowel in the second syllable changes into a.&quot;</span>)</a>
<a class="sourceLine" id="cb4-47" title="47">sc<span class="fl">.2</span>ndV2a<span class="op">$</span><span class="kw">fun</span> (<span class="st">&quot;ouroboros&quot;</span>, <span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb4-48" title="48"><span class="co">#&gt; [1] &quot;ouraboros&quot;</span></a></code></pre></div>
<!-- --------------------------------------------------------------------------------------------- }}} -->
<!-- ============================================================================================= }}} -->
<!-- functions =================================================================================== {{{ -->
</div>
</div>
<div id="functions" class="section level1">
<h1>Functions</h1>
<p>‘soundcorrs’ exports several functions intended for linguistic analysis. For easier orientation, they are organized below by what kind of outputs they produce, rather than by their names. ‘soundcorrs’ also exports several functions whose use for linguistic analysis, in and of themselves, is rather limited. Those are grouped in one subsection at the end, and discussed in the alphabetical order.</p>
<!-- contingency tables -------------------------------------------------------------------------- {{{ -->
<div id="contingency-tables" class="section level2">
<h2>Contingency tables</h2>
<p>There are three different functions in ‘soundcorrs’ that produce contingnecy tables. There is some logic behind it. ‘summary()’ is only meant to give a general overview of the dataset; ‘coocc()’ is the essential contingency table function; and ‘allCooccs()’ produces an output that is meant to be printed rather than read from the screen.</p>
<!-- summary() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
<div id="summary" class="section level3">
<h3>summary()</h3>
<p>‘summary()’ produces a segment-to-segment contingency table. The values may represent how many times the given segments correspond to each other (‘unit=“o”’) or in how many words they correspond to each other (‘unit=“w”’). This distinction exists because it is quite possible that there will be a segment which appears more than once in a single word. The argument ‘unit’ accepts nine different values: ‘“o(cc(ur(ence(s))))”’ and ‘“w(or(d(s)))”’. One more argument can be given to ‘summary()’; it is ‘count’, and it determines whether values are given in the absolute, or as relative. It accepts six values: ‘“a(bs(olute))”’ and ‘“r(el(ative))”’.</p>
<p>Note that ‘summary()’ reports how many times the given segments correspond to each other – not how often they co-occur in the same word. For example, in a pair L1 “a|b” : L2 “c|d”, the “a”/“d” cell will show 0 because because L1 “a” never corresponds directly to L2 “d”. This is a different perspective than in ‘coocc()’ below.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># a general overview of the dataset as a whole</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">summary</span> (d.abc)</a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt;    L2</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt; L1  a b c o u w ə</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt;   - 0 0 0 0 0 0 2</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt;   a 4 0 0 1 1 0 0</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">#&gt;   b 0 5 0 0 0 1 0</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt;   c 0 0 6 0 0 0 0</span></a>
<a class="sourceLine" id="cb5-9" title="9"></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co"># words are the default ‘unit’</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="kw">summary</span> (d.abc, <span class="dt">unit=</span><span class="st">&quot;o&quot;</span>)</a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">#&gt;    L2</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="co">#&gt; L1  a b c o u w ə</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co">#&gt;   - 0 0 0 0 0 0 2</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="co">#&gt;   a 6 0 0 1 2 0 0</span></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="co">#&gt;   b 0 5 0 0 0 1 0</span></a>
<a class="sourceLine" id="cb5-17" title="17"><span class="co">#&gt;   c 0 0 6 0 0 0 0</span></a>
<a class="sourceLine" id="cb5-18" title="18"></a>
<a class="sourceLine" id="cb5-19" title="19"><span class="co"># in relative values …</span></a>
<a class="sourceLine" id="cb5-20" title="20">rels &lt;-<span class="st"> </span><span class="kw">summary</span> (d.abc, <span class="dt">count=</span><span class="st">&quot;r&quot;</span>)</a>
<a class="sourceLine" id="cb5-21" title="21"><span class="kw">round</span> (rels, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb5-22" title="22"><span class="co">#&gt;    L2</span></a>
<a class="sourceLine" id="cb5-23" title="23"><span class="co">#&gt; L1     a    b    c    o    u    w    ə</span></a>
<a class="sourceLine" id="cb5-24" title="24"><span class="co">#&gt;   - 0.00 0.00 0.00 0.00 0.00 0.00 1.00</span></a>
<a class="sourceLine" id="cb5-25" title="25"><span class="co">#&gt;   a 0.67 0.00 0.00 0.17 0.17 0.00 0.00</span></a>
<a class="sourceLine" id="cb5-26" title="26"><span class="co">#&gt;   b 0.00 0.83 0.00 0.00 0.00 0.17 0.00</span></a>
<a class="sourceLine" id="cb5-27" title="27"><span class="co">#&gt;   c 0.00 0.00 1.00 0.00 0.00 0.00 0.00</span></a>
<a class="sourceLine" id="cb5-28" title="28"></a>
<a class="sourceLine" id="cb5-29" title="29"><span class="co"># … relative to entire rows</span></a>
<a class="sourceLine" id="cb5-30" title="30"><span class="kw">apply</span> (rels, <span class="dv">1</span>, sum)</a>
<a class="sourceLine" id="cb5-31" title="31"><span class="co">#&gt; - a b c </span></a>
<a class="sourceLine" id="cb5-32" title="32"><span class="co">#&gt; 1 1 1 1</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- coocc() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
</div>
<div id="coocc" class="section level3">
<h3>coocc()</h3>
<p>‘coocc()’ has two modes: internal and external comparison. The former, invoked when ‘column=NULL’ (the default) cross-tabulates correspondences with themselves. The latter cross-tabulates correspondences with metadata taken from a column in the dataset whose name is given as the argument ‘column’. Like ‘summary()’ above, ‘coocc()’ has the argument ‘unit’ which has the same meaning, and also the argument ‘count’ which may appear to work a little differently. In actuality, its use with ‘summary()’ was a special case. The general idea is that the entire table is divided into blocks such that all rows represent correspondences of the same segment and, in the internal mode, so do all the columns.</p>
<p>Note that ‘coocc()’ reports how many times the given correspondences co-occur in the same word – not how often they appear in the entire dataset. For example, in a pair L1 “a|b” : L2 “c|d”, the “a:c”/“b:d” cell will show 1 because the correspondence L1 “a” : L2 “c” co-occurs with L1 “b” : L2 “d” in one word. This is a different perspective than in ‘summary()’ above.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># a general look in the internal mode</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">coocc</span> (d.abc)</a>
<a class="sourceLine" id="cb6-3" title="3"><span class="co">#&gt;      L1_L2</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">#&gt; L1_L2 -_ə a_a a_o a_u b_b b_w c_c</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co">#&gt;   -_ə   0   2   0   0   2   0   2</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="co">#&gt;   a_a   2   2   0   0   4   0   4</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="co">#&gt;   a_o   0   0   0   0   1   0   1</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="co">#&gt;   a_u   0   0   0   1   0   1   1</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="co">#&gt;   b_b   2   4   1   0   0   0   5</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="co">#&gt;   b_w   0   0   0   1   0   0   1</span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="co">#&gt;   c_c   2   4   1   1   5   1   0</span></a>
<a class="sourceLine" id="cb6-12" title="12"></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="co"># now with metadata</span></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="kw">coocc</span> (d.abc, <span class="st">&quot;DIALECT.L2&quot;</span>)</a>
<a class="sourceLine" id="cb6-15" title="15"><span class="co">#&gt;      DIALECT.L2</span></a>
<a class="sourceLine" id="cb6-16" title="16"><span class="co">#&gt; L1_L2 north south std</span></a>
<a class="sourceLine" id="cb6-17" title="17"><span class="co">#&gt;   -_ə     0     2   0</span></a>
<a class="sourceLine" id="cb6-18" title="18"><span class="co">#&gt;   a_a     0     2   2</span></a>
<a class="sourceLine" id="cb6-19" title="19"><span class="co">#&gt;   a_o     1     0   0</span></a>
<a class="sourceLine" id="cb6-20" title="20"><span class="co">#&gt;   a_u     1     0   0</span></a>
<a class="sourceLine" id="cb6-21" title="21"><span class="co">#&gt;   b_b     1     2   2</span></a>
<a class="sourceLine" id="cb6-22" title="22"><span class="co">#&gt;   b_w     1     0   0</span></a>
<a class="sourceLine" id="cb6-23" title="23"><span class="co">#&gt;   c_c     2     2   2</span></a>
<a class="sourceLine" id="cb6-24" title="24"></a>
<a class="sourceLine" id="cb6-25" title="25"><span class="co"># in the internal mode,</span></a>
<a class="sourceLine" id="cb6-26" title="26"><span class="co">#    the relative values are with regard to segment-to-segment blocks</span></a>
<a class="sourceLine" id="cb6-27" title="27">tab &lt;-<span class="st"> </span><span class="kw">coocc</span> (d.abc, <span class="dt">count=</span><span class="st">&quot;r&quot;</span>)</a>
<a class="sourceLine" id="cb6-28" title="28">rows.a &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">rownames</span>(tab) <span class="op">%hasPrefix%</span><span class="st"> &quot;a&quot;</span>)</a>
<a class="sourceLine" id="cb6-29" title="29">cols.b &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">colnames</span>(tab) <span class="op">%hasPrefix%</span><span class="st"> &quot;b&quot;</span>)</a>
<a class="sourceLine" id="cb6-30" title="30"><span class="kw">sum</span> (tab [rows.a, cols.b])</a>
<a class="sourceLine" id="cb6-31" title="31"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb6-32" title="32"></a>
<a class="sourceLine" id="cb6-33" title="33"><span class="co"># there are four different segments in L1</span></a>
<a class="sourceLine" id="cb6-34" title="34"><span class="kw">sum</span> (tab)</a>
<a class="sourceLine" id="cb6-35" title="35"><span class="co">#&gt; [1] NaN</span></a>
<a class="sourceLine" id="cb6-36" title="36"></a>
<a class="sourceLine" id="cb6-37" title="37"><span class="co"># if two correspondences never co-occur, the relative value is 0/0</span></a>
<a class="sourceLine" id="cb6-38" title="38"><span class="co">#    which R represents as ‘NaN’, and prints as empty space</span></a>
<a class="sourceLine" id="cb6-39" title="39"><span class="kw">coocc</span> (d.abc, <span class="dt">count=</span><span class="st">&quot;r&quot;</span>)</a>
<a class="sourceLine" id="cb6-40" title="40"><span class="co">#&gt;      L1_L2</span></a>
<a class="sourceLine" id="cb6-41" title="41"><span class="co">#&gt; L1_L2       -_ə       a_a       a_o       a_u       b_b       b_w</span></a>
<a class="sourceLine" id="cb6-42" title="42"><span class="co">#&gt;   -_ə           1.0000000 0.0000000 0.0000000 1.0000000 0.0000000</span></a>
<a class="sourceLine" id="cb6-43" title="43"><span class="co">#&gt;   a_a 1.0000000 0.6666667 0.0000000 0.0000000 0.6666667 0.0000000</span></a>
<a class="sourceLine" id="cb6-44" title="44"><span class="co">#&gt;   a_o 0.0000000 0.0000000 0.0000000 0.0000000 0.1666667 0.0000000</span></a>
<a class="sourceLine" id="cb6-45" title="45"><span class="co">#&gt;   a_u 0.0000000 0.0000000 0.0000000 0.3333333 0.0000000 0.1666667</span></a>
<a class="sourceLine" id="cb6-46" title="46"><span class="co">#&gt;   b_b 1.0000000 0.6666667 0.1666667 0.0000000                    </span></a>
<a class="sourceLine" id="cb6-47" title="47"><span class="co">#&gt;   b_w 0.0000000 0.0000000 0.0000000 0.1666667                    </span></a>
<a class="sourceLine" id="cb6-48" title="48"><span class="co">#&gt;   c_c 1.0000000 0.6666667 0.1666667 0.1666667 0.8333333 0.1666667</span></a>
<a class="sourceLine" id="cb6-49" title="49"><span class="co">#&gt;      L1_L2</span></a>
<a class="sourceLine" id="cb6-50" title="50"><span class="co">#&gt; L1_L2       c_c</span></a>
<a class="sourceLine" id="cb6-51" title="51"><span class="co">#&gt;   -_ə 1.0000000</span></a>
<a class="sourceLine" id="cb6-52" title="52"><span class="co">#&gt;   a_a 0.6666667</span></a>
<a class="sourceLine" id="cb6-53" title="53"><span class="co">#&gt;   a_o 0.1666667</span></a>
<a class="sourceLine" id="cb6-54" title="54"><span class="co">#&gt;   a_u 0.1666667</span></a>
<a class="sourceLine" id="cb6-55" title="55"><span class="co">#&gt;   b_b 0.8333333</span></a>
<a class="sourceLine" id="cb6-56" title="56"><span class="co">#&gt;   b_w 0.1666667</span></a>
<a class="sourceLine" id="cb6-57" title="57"><span class="co">#&gt;   c_c</span></a>
<a class="sourceLine" id="cb6-58" title="58"></a>
<a class="sourceLine" id="cb6-59" title="59"><span class="co"># in the external mode,</span></a>
<a class="sourceLine" id="cb6-60" title="60"><span class="co">#    the relative values are with regard to blocks of rows, and all columns</span></a>
<a class="sourceLine" id="cb6-61" title="61">tab &lt;-<span class="st"> </span><span class="kw">coocc</span> (d.abc, <span class="st">&quot;DIALECT.L2&quot;</span>, <span class="dt">count=</span><span class="st">&quot;r&quot;</span>)</a>
<a class="sourceLine" id="cb6-62" title="62">rows.a &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">rownames</span>(tab) <span class="op">%hasPrefix%</span><span class="st"> &quot;a&quot;</span>)</a>
<a class="sourceLine" id="cb6-63" title="63"><span class="kw">sum</span> (tab [rows.a, ])</a>
<a class="sourceLine" id="cb6-64" title="64"><span class="co">#&gt; [1] 1</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- allCooccs() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
</div>
<div id="allcooccs" class="section level3">
<h3>allCooccs()</h3>
<p>‘allCooccs()’ splits a table produced by ‘coocc()’ into blocks, each containing the correspondences of one segment. Its primary purpose is to facilitate the application of tests of independence, for which see ‘lapplyTest()’ below.</p>
<p>‘allCooccs()’ takes all the same arguments as ‘coocc()’: ‘column’, ‘count’, and ‘unit’. In addition, it takes the argument ‘bin’ which determines whether the table should be just cut up, or whether all the resulting slices should also be binned.</p>
<p>The return value of ‘allCooccs()’ is a list which holds all the resulting tables, under names composed from the correspondences and connected with underscores. If ‘column = NULL’, they would be ‘a’, ‘b’, &amp;c. if ‘bin = F’, and if ‘bin = T’, ‘a_b_c_d’ meaning L1 ‘a’ : L2 ‘b’ cross-tabulated with L1 ‘c’ : L2 ‘d’, and so on. If ‘column’ is not ‘NULL’, the names will be ‘a_b_northern’ meaning L1 ‘a’ : L2 ‘b’ tabulated with the ‘northern’ dialect, and so forth.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># for a small dataset, the result is going to be small</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">str</span> (<span class="kw">allCooccs</span>(d.abc), <span class="dt">max.level=</span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="st">  </span><span class="er">|</span><span class="st">                                                                 </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</a>
<a class="sourceLine" id="cb7-6" title="6">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="st">  </span><span class="er">|================</span><span class="st">                                                 </span><span class="er">|</span><span class="st">  </span><span class="dv">25</span>%</a>
<a class="sourceLine" id="cb7-8" title="8">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="st">  </span><span class="er">|================================</span><span class="st">                                 </span><span class="er">|</span><span class="st">  </span><span class="dv">50</span>%</a>
<a class="sourceLine" id="cb7-10" title="10">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="st">  </span><span class="er">|=================================================</span><span class="st">                </span><span class="er">|</span><span class="st">  </span><span class="dv">75</span>%</a>
<a class="sourceLine" id="cb7-12" title="12">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="st">  </span><span class="er">|=================================================================|</span><span class="st"> </span><span class="dv">100</span>%</a>
<a class="sourceLine" id="cb7-14" title="14"><span class="co">#&gt; List of 34</span></a>
<a class="sourceLine" id="cb7-15" title="15"></a>
<a class="sourceLine" id="cb7-16" title="16"><span class="co"># but it can grow quite quickly with a larger dataset</span></a>
<a class="sourceLine" id="cb7-17" title="17"><span class="kw">str</span> (<span class="kw">allCooccs</span>(d.cap), <span class="dt">max.level=</span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb7-18" title="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-19" title="19">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-20" title="20"><span class="st">  </span><span class="er">|</span><span class="st">                                                                 </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</a>
<a class="sourceLine" id="cb7-21" title="21">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-22" title="22"><span class="st">  </span><span class="er">|==</span><span class="st">                                                               </span><span class="er">|</span><span class="st">   </span><span class="dv">3</span>%</a>
<a class="sourceLine" id="cb7-23" title="23">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-24" title="24"><span class="st">  </span><span class="er">|====</span><span class="st">                                                             </span><span class="er">|</span><span class="st">   </span><span class="dv">6</span>%</a>
<a class="sourceLine" id="cb7-25" title="25">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-26" title="26"><span class="st">  </span><span class="er">|======</span><span class="st">                                                           </span><span class="er">|</span><span class="st">  </span><span class="dv">10</span>%</a>
<a class="sourceLine" id="cb7-27" title="27">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-28" title="28"><span class="st">  </span><span class="er">|========</span><span class="st">                                                         </span><span class="er">|</span><span class="st">  </span><span class="dv">13</span>%</a>
<a class="sourceLine" id="cb7-29" title="29">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-30" title="30"><span class="st">  </span><span class="er">|==========</span><span class="st">                                                       </span><span class="er">|</span><span class="st">  </span><span class="dv">16</span>%</a>
<a class="sourceLine" id="cb7-31" title="31">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-32" title="32"><span class="st">  </span><span class="er">|=============</span><span class="st">                                                    </span><span class="er">|</span><span class="st">  </span><span class="dv">19</span>%</a>
<a class="sourceLine" id="cb7-33" title="33">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-34" title="34"><span class="st">  </span><span class="er">|===============</span><span class="st">                                                  </span><span class="er">|</span><span class="st">  </span><span class="dv">23</span>%</a>
<a class="sourceLine" id="cb7-35" title="35">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-36" title="36"><span class="st">  </span><span class="er">|=================</span><span class="st">                                                </span><span class="er">|</span><span class="st">  </span><span class="dv">26</span>%</a>
<a class="sourceLine" id="cb7-37" title="37">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-38" title="38"><span class="st">  </span><span class="er">|===================</span><span class="st">                                              </span><span class="er">|</span><span class="st">  </span><span class="dv">29</span>%</a>
<a class="sourceLine" id="cb7-39" title="39">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-40" title="40"><span class="st">  </span><span class="er">|=====================</span><span class="st">                                            </span><span class="er">|</span><span class="st">  </span><span class="dv">32</span>%</a>
<a class="sourceLine" id="cb7-41" title="41">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-42" title="42"><span class="st">  </span><span class="er">|=======================</span><span class="st">                                          </span><span class="er">|</span><span class="st">  </span><span class="dv">35</span>%</a>
<a class="sourceLine" id="cb7-43" title="43">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-44" title="44"><span class="st">  </span><span class="er">|=========================</span><span class="st">                                        </span><span class="er">|</span><span class="st">  </span><span class="dv">39</span>%</a>
<a class="sourceLine" id="cb7-45" title="45">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-46" title="46"><span class="st">  </span><span class="er">|===========================</span><span class="st">                                      </span><span class="er">|</span><span class="st">  </span><span class="dv">42</span>%</a>
<a class="sourceLine" id="cb7-47" title="47">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-48" title="48"><span class="st">  </span><span class="er">|=============================</span><span class="st">                                    </span><span class="er">|</span><span class="st">  </span><span class="dv">45</span>%</a>
<a class="sourceLine" id="cb7-49" title="49">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-50" title="50"><span class="st">  </span><span class="er">|===============================</span><span class="st">                                  </span><span class="er">|</span><span class="st">  </span><span class="dv">48</span>%</a>
<a class="sourceLine" id="cb7-51" title="51">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-52" title="52"><span class="st">  </span><span class="er">|==================================</span><span class="st">                               </span><span class="er">|</span><span class="st">  </span><span class="dv">52</span>%</a>
<a class="sourceLine" id="cb7-53" title="53">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-54" title="54"><span class="st">  </span><span class="er">|====================================</span><span class="st">                             </span><span class="er">|</span><span class="st">  </span><span class="dv">55</span>%</a>
<a class="sourceLine" id="cb7-55" title="55">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-56" title="56"><span class="st">  </span><span class="er">|======================================</span><span class="st">                           </span><span class="er">|</span><span class="st">  </span><span class="dv">58</span>%</a>
<a class="sourceLine" id="cb7-57" title="57">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-58" title="58"><span class="st">  </span><span class="er">|========================================</span><span class="st">                         </span><span class="er">|</span><span class="st">  </span><span class="dv">61</span>%</a>
<a class="sourceLine" id="cb7-59" title="59">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-60" title="60"><span class="st">  </span><span class="er">|==========================================</span><span class="st">                       </span><span class="er">|</span><span class="st">  </span><span class="dv">65</span>%</a>
<a class="sourceLine" id="cb7-61" title="61">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-62" title="62"><span class="st">  </span><span class="er">|============================================</span><span class="st">                     </span><span class="er">|</span><span class="st">  </span><span class="dv">68</span>%</a>
<a class="sourceLine" id="cb7-63" title="63">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-64" title="64"><span class="st">  </span><span class="er">|==============================================</span><span class="st">                   </span><span class="er">|</span><span class="st">  </span><span class="dv">71</span>%</a>
<a class="sourceLine" id="cb7-65" title="65">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-66" title="66"><span class="st">  </span><span class="er">|================================================</span><span class="st">                 </span><span class="er">|</span><span class="st">  </span><span class="dv">74</span>%</a>
<a class="sourceLine" id="cb7-67" title="67">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-68" title="68"><span class="st">  </span><span class="er">|==================================================</span><span class="st">               </span><span class="er">|</span><span class="st">  </span><span class="dv">77</span>%</a>
<a class="sourceLine" id="cb7-69" title="69">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-70" title="70"><span class="st">  </span><span class="er">|====================================================</span><span class="st">             </span><span class="er">|</span><span class="st">  </span><span class="dv">81</span>%</a>
<a class="sourceLine" id="cb7-71" title="71">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-72" title="72"><span class="st">  </span><span class="er">|=======================================================</span><span class="st">          </span><span class="er">|</span><span class="st">  </span><span class="dv">84</span>%</a>
<a class="sourceLine" id="cb7-73" title="73">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-74" title="74"><span class="st">  </span><span class="er">|=========================================================</span><span class="st">        </span><span class="er">|</span><span class="st">  </span><span class="dv">87</span>%</a>
<a class="sourceLine" id="cb7-75" title="75">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-76" title="76"><span class="st">  </span><span class="er">|===========================================================</span><span class="st">      </span><span class="er">|</span><span class="st">  </span><span class="dv">90</span>%</a>
<a class="sourceLine" id="cb7-77" title="77">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-78" title="78"><span class="st">  </span><span class="er">|=============================================================</span><span class="st">    </span><span class="er">|</span><span class="st">  </span><span class="dv">94</span>%</a>
<a class="sourceLine" id="cb7-79" title="79">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-80" title="80"><span class="st">  </span><span class="er">|===============================================================</span><span class="st">  </span><span class="er">|</span><span class="st">  </span><span class="dv">97</span>%</a>
<a class="sourceLine" id="cb7-81" title="81">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-82" title="82"><span class="st">  </span><span class="er">|=================================================================|</span><span class="st"> </span><span class="dv">100</span>%</a>
<a class="sourceLine" id="cb7-83" title="83"><span class="co">#&gt; List of 5614</span></a>
<a class="sourceLine" id="cb7-84" title="84"></a>
<a class="sourceLine" id="cb7-85" title="85"><span class="co"># the naming scheme</span></a>
<a class="sourceLine" id="cb7-86" title="86"><span class="kw">names</span> (<span class="kw">allCooccs</span>(d.abc))</a>
<a class="sourceLine" id="cb7-87" title="87"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-88" title="88">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-89" title="89"><span class="st">  </span><span class="er">|</span><span class="st">                                                                 </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</a>
<a class="sourceLine" id="cb7-90" title="90">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-91" title="91"><span class="st">  </span><span class="er">|================</span><span class="st">                                                 </span><span class="er">|</span><span class="st">  </span><span class="dv">25</span>%</a>
<a class="sourceLine" id="cb7-92" title="92">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-93" title="93"><span class="st">  </span><span class="er">|================================</span><span class="st">                                 </span><span class="er">|</span><span class="st">  </span><span class="dv">50</span>%</a>
<a class="sourceLine" id="cb7-94" title="94">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-95" title="95"><span class="st">  </span><span class="er">|=================================================</span><span class="st">                </span><span class="er">|</span><span class="st">  </span><span class="dv">75</span>%</a>
<a class="sourceLine" id="cb7-96" title="96">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-97" title="97"><span class="st">  </span><span class="er">|=================================================================|</span><span class="st"> </span><span class="dv">100</span>%</a>
<a class="sourceLine" id="cb7-98" title="98"><span class="co">#&gt;  [1] &quot;-_ə_a_a&quot; &quot;-_ə_a_o&quot; &quot;-_ə_a_u&quot; &quot;-_ə_b_b&quot; &quot;-_ə_b_w&quot; &quot;-_ə_c_c&quot; &quot;a_a_-_ə&quot;</span></a>
<a class="sourceLine" id="cb7-99" title="99"><span class="co">#&gt;  [8] &quot;a_a_b_b&quot; &quot;a_a_b_w&quot; &quot;a_a_c_c&quot; &quot;a_o_-_ə&quot; &quot;a_o_b_b&quot; &quot;a_o_b_w&quot; &quot;a_o_c_c&quot;</span></a>
<a class="sourceLine" id="cb7-100" title="100"><span class="co">#&gt; [15] &quot;a_u_-_ə&quot; &quot;a_u_b_b&quot; &quot;a_u_b_w&quot; &quot;a_u_c_c&quot; &quot;b_b_-_ə&quot; &quot;b_b_a_a&quot; &quot;b_b_a_o&quot;</span></a>
<a class="sourceLine" id="cb7-101" title="101"><span class="co">#&gt; [22] &quot;b_b_a_u&quot; &quot;b_b_c_c&quot; &quot;b_w_-_ə&quot; &quot;b_w_a_a&quot; &quot;b_w_a_o&quot; &quot;b_w_a_u&quot; &quot;b_w_c_c&quot;</span></a>
<a class="sourceLine" id="cb7-102" title="102"><span class="co">#&gt; [29] &quot;c_c_-_ə&quot; &quot;c_c_a_a&quot; &quot;c_c_a_o&quot; &quot;c_c_a_u&quot; &quot;c_c_b_b&quot; &quot;c_c_b_w&quot;</span></a>
<a class="sourceLine" id="cb7-103" title="103"></a>
<a class="sourceLine" id="cb7-104" title="104"><span class="co"># and with ‘column’ not ‘NULL’</span></a>
<a class="sourceLine" id="cb7-105" title="105"><span class="kw">names</span> (<span class="kw">allCooccs</span>(d.abc,<span class="dt">column=</span><span class="st">&quot;DIALECT.L2&quot;</span>))</a>
<a class="sourceLine" id="cb7-106" title="106"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-107" title="107">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-108" title="108"><span class="st">  </span><span class="er">|</span><span class="st">                                                                 </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</a>
<a class="sourceLine" id="cb7-109" title="109">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-110" title="110"><span class="st">  </span><span class="er">|================</span><span class="st">                                                 </span><span class="er">|</span><span class="st">  </span><span class="dv">25</span>%</a>
<a class="sourceLine" id="cb7-111" title="111">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-112" title="112"><span class="st">  </span><span class="er">|================================</span><span class="st">                                 </span><span class="er">|</span><span class="st">  </span><span class="dv">50</span>%</a>
<a class="sourceLine" id="cb7-113" title="113">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-114" title="114"><span class="st">  </span><span class="er">|=================================================</span><span class="st">                </span><span class="er">|</span><span class="st">  </span><span class="dv">75</span>%</a>
<a class="sourceLine" id="cb7-115" title="115">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb7-116" title="116"><span class="st">  </span><span class="er">|=================================================================|</span><span class="st"> </span><span class="dv">100</span>%</a>
<a class="sourceLine" id="cb7-117" title="117"><span class="co">#&gt;  [1] &quot;-_ə_north&quot; &quot;-_ə_south&quot; &quot;-_ə_std&quot;   &quot;a_a_north&quot; &quot;a_a_south&quot;</span></a>
<a class="sourceLine" id="cb7-118" title="118"><span class="co">#&gt;  [6] &quot;a_a_std&quot;   &quot;a_o_north&quot; &quot;a_o_south&quot; &quot;a_o_std&quot;   &quot;a_u_north&quot;</span></a>
<a class="sourceLine" id="cb7-119" title="119"><span class="co">#&gt; [11] &quot;a_u_south&quot; &quot;a_u_std&quot;   &quot;b_b_north&quot; &quot;b_b_south&quot; &quot;b_b_std&quot;  </span></a>
<a class="sourceLine" id="cb7-120" title="120"><span class="co">#&gt; [16] &quot;b_w_north&quot; &quot;b_w_south&quot; &quot;b_w_std&quot;   &quot;c_c_north&quot; &quot;c_c_south&quot;</span></a>
<a class="sourceLine" id="cb7-121" title="121"><span class="co">#&gt; [21] &quot;c_c_std&quot;</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- --------------------------------------------------------------------------------------------- }}} -->
<!-- examples ------------------------------------------------------------------------------------ {{{ -->
</div>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<p>‘soundcorrs’ has three functions to look for specific examples. ‘findExamples()’ searches for words which exhibit a given correspondence; ‘findPairs()’ is a convenience wrapper for ‘findExamples()’ for when there are only two languages in the dataset; and ‘allPairs()’ produces an almost print-ready summary of the dataset, complete with tables and all the examples.</p>
<!-- findExamples()- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
<div id="findexamples" class="section level3">
<h3>findExamples()</h3>
<p>‘findExamples()’ searches a dataset for pairs/triples/… which exhibit a specific sound correspondence. It can take several arguments, which can be divided into three groups.</p>
<p>The first group is just one obligatory argument, ‘data’. This is the dataset, and it must be a ‘soundcorrs’ object.</p>
<p>The second group are the queries. There must be as many of them as there are languages in ‘data’, and they must be given in the same order as the languages in ‘data’. For example, if the dataset contains data from English and Polish, there need to be two queries, the first to be looked for in English data, and the second in Polish data. All queries can be regular expressions: such as defined in R, or custom metacharacters defined in the transcription. The can also be empty strings, which ‘findExamples()’ will interpret as a permission to accept anything.</p>
<p>The third group are optional arguments which define how the data are sifted and displayed. These arguments can only be used with a name (f.ex. ‘findExamples(data,“a”,“a”,cols=“all”)’) because R does not know a priori how many queries there are going to be.</p>
<p>The ‘cols’ argument defines which columns of the original data are displayed. It can be a vector of strings, “all”, or “aligned”. The last option is the default one.</p>
<p>The next two arguments are ‘distance.start’ and ‘distance.end’. These define the maximum permitted distance, in segments, between the matches. Let us use as example French “f|r|ã|-|s” and English “f|r|ā|n|s”, and imagine that we want to find cases where a French vowel corresponds to a vowel-n sequence in English. The part of the French word that interests us is segment number 3; its counterpart in the English word starts on segment 3 and ends on segment 4. The distance between the starts is 0, and the distance between the ends is 1. ‘findExamples()’ will find our pair of words if ‘distance.start’ is set to 0 or more, and ‘distance.end’ to 1 or more.</p>
<p>Both arguments can also take negative values which means that distance is not checked at all. These are in fact the defaults (-1). Effectively, the default behaviour of ‘findExamples()’ is to find any such pair/triple/… that the first word contains the first query, the second word the second query, and so on, regardless of whether they appear in the corresponding segments. For the example above, ‘findExamples(dataset,“f”,“r”)’ also returns a match. It may therefore seem irresponsible to set the default values of both arguments to -1, but in my experience, it very rarely produces false positives. On the other hand, the opposite behaviour (both arguments set to 0) may easily result in false negatives, ones that are not only of a much less intuitive kind, but also never give the user a chance to spot the problem as they are simply not displayed.</p>
<p>The next argument is ‘na.value’ which determines how missing values (‘NA’) are treated. This argument can only have one of two values: -1 and 0. The former means that missing values are considered non-matches, the latter that they are considered matches. The latter is the default. Note that an empty string query takes precedence over ‘na.value’, that is even whan ‘na.value’ is set to -1, ‘NA’s will show up in the results when the query is an empty string.</p>
<p>The last optional argument is ‘zeros’ which can be set to ‘TRUE’ or ‘FALSE’ (the default). The former means that search is performed on words with linguistic zeros in them. In the example above, the query “Vs” would find “f|r|ã|-|s” only if ‘zeros’ were set to ‘FALSE’.</p>
<p>The output of ‘findExamples()’ is a list with two fields: ‘data’ which is a data frame with matching examples, and ‘which’, a logical vector showing which examples in the original dataset were a match. The class of the return value is ‘df.findExamples’; this is purely for technical reasons, to allow for a more legible printed output.</p>
<p>See also ‘findPairs()’, a convenience wrapper around ‘findExamples()’.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co"># “ab” spans segments 1–2, while “a” only occupies segment 1</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="kw">findExamples</span> (d.abc, <span class="st">&quot;ab&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="dt">distance.end=</span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">#&gt; No matches found.</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="kw">findExamples</span> (d.abc, <span class="st">&quot;ab&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="dt">distance.end=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb8-6" title="6"><span class="co">#&gt;   ALIGNED.L1 ALIGNED.L2</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co">#&gt; 1      a|b|c      a|b|c</span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co">#&gt; 2    a|b|a|c    a|b|a|c</span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="co">#&gt; 5    a|b|c|-    a|b|c|ə</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="co">#&gt; 6  a|b|a|c|-  a|b|a|c|ə</span></a>
<a class="sourceLine" id="cb8-11" title="11"></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="co"># linguistic zeros cannot be found if ‘zeros’ is set to ‘FALSE’</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="kw">findExamples</span> (d.abc, <span class="st">&quot;-&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="dt">zeros=</span>T)</a>
<a class="sourceLine" id="cb8-14" title="14"><span class="co">#&gt;   ALIGNED.L1 ALIGNED.L2</span></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="co">#&gt; 5    a|b|c|-    a|b|c|ə</span></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="co">#&gt; 6  a|b|a|c|-  a|b|a|c|ə</span></a>
<a class="sourceLine" id="cb8-17" title="17"><span class="kw">findExamples</span> (d.abc, <span class="st">&quot;-&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="dt">zeros=</span>F)</a>
<a class="sourceLine" id="cb8-18" title="18"><span class="co">#&gt; No matches found.</span></a>
<a class="sourceLine" id="cb8-19" title="19"></a>
<a class="sourceLine" id="cb8-20" title="20"><span class="co"># both the usual and custom regular expressions are permissible</span></a>
<a class="sourceLine" id="cb8-21" title="21"><span class="kw">findExamples</span> (d.abc, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;[ou]&quot;</span>)</a>
<a class="sourceLine" id="cb8-22" title="22"><span class="co">#&gt;   ALIGNED.L1 ALIGNED.L2</span></a>
<a class="sourceLine" id="cb8-23" title="23"><span class="co">#&gt; 3      a|b|c      o|b|c</span></a>
<a class="sourceLine" id="cb8-24" title="24"><span class="co">#&gt; 4    a|b|a|c    u|w|u|c</span></a>
<a class="sourceLine" id="cb8-25" title="25"><span class="kw">findExamples</span> (d.abc, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;O&quot;</span>)</a>
<a class="sourceLine" id="cb8-26" title="26"><span class="co">#&gt;   ALIGNED.L1 ALIGNED.L2</span></a>
<a class="sourceLine" id="cb8-27" title="27"><span class="co">#&gt; 3      a|b|c      o|b|c</span></a>
<a class="sourceLine" id="cb8-28" title="28"><span class="co">#&gt; 4    a|b|a|c    u|w|u|c</span></a>
<a class="sourceLine" id="cb8-29" title="29"></a>
<a class="sourceLine" id="cb8-30" title="30"><span class="co"># the output is actuall a list</span></a>
<a class="sourceLine" id="cb8-31" title="31"><span class="kw">str</span> (<span class="kw">findExamples</span>(d.abc,<span class="st">&quot;a&quot;</span>,<span class="st">&quot;a&quot;</span>), <span class="dt">max.level=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb8-32" title="32"><span class="co">#&gt; List of 2</span></a>
<a class="sourceLine" id="cb8-33" title="33"><span class="co">#&gt;  $ data :'data.frame':   4 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb8-34" title="34"><span class="co">#&gt;  $ which: logi [1:6] TRUE TRUE FALSE FALSE TRUE TRUE</span></a>
<a class="sourceLine" id="cb8-35" title="35"><span class="co">#&gt;  - attr(*, &quot;class&quot;)= chr &quot;df.findExamples&quot;</span></a>
<a class="sourceLine" id="cb8-36" title="36"></a>
<a class="sourceLine" id="cb8-37" title="37"><span class="co"># ‘data’ is what is displayed on the screen</span></a>
<a class="sourceLine" id="cb8-38" title="38"><span class="co"># ‘which’ is useful for subsetting</span></a>
<a class="sourceLine" id="cb8-39" title="39"><span class="kw">subset</span> (d.abc, <span class="kw">findExamples</span>(d.abc,<span class="st">&quot;a&quot;</span>,<span class="st">&quot;O&quot;</span>)<span class="op">$</span>which)</a>
<a class="sourceLine" id="cb8-40" title="40"><span class="co">#&gt; A &quot;soundcorrs&quot; object.</span></a>
<a class="sourceLine" id="cb8-41" title="41"><span class="co">#&gt;   Languages (2): L1, L2.</span></a>
<a class="sourceLine" id="cb8-42" title="42"><span class="co">#&gt;   Entries: 2.</span></a>
<a class="sourceLine" id="cb8-43" title="43"><span class="co">#&gt;   Columns (7): ID, DIALECT.L1, ALIGNED.L1, ORTHOGRAPHY.L1, DIALECT.L2, ALIGNED.L2, ORTHOGRAPHY.L2.</span></a>
<a class="sourceLine" id="cb8-44" title="44"></a>
<a class="sourceLine" id="cb8-45" title="45"><span class="co"># ‘which’ can also be used to find examples</span></a>
<a class="sourceLine" id="cb8-46" title="46"><span class="co">#    that exhibit more than one correspondence.</span></a>
<a class="sourceLine" id="cb8-47" title="47">aaa &lt;-<span class="st"> </span><span class="kw">findExamples</span> (d.cap, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="dt">distance.start=</span><span class="dv">0</span>, <span class="dt">distance.end=</span><span class="dv">0</span>)<span class="op">$</span>which</a>
<a class="sourceLine" id="cb8-48" title="48">bbb &lt;-<span class="st"> </span><span class="kw">findExamples</span> (d.cap, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="dt">distance.start=</span><span class="dv">0</span>, <span class="dt">distance.end=</span><span class="dv">0</span>)<span class="op">$</span>which</a>
<a class="sourceLine" id="cb8-49" title="49">d.cap<span class="op">$</span>data [aaa <span class="op">&amp;</span><span class="st"> </span>bbb,]</a>
<a class="sourceLine" id="cb8-50" title="50"><span class="co">#&gt;         ALIGNED.German ORTHOGRAPHY.German      ALIGNED.Polish</span></a>
<a class="sourceLine" id="cb8-51" title="51"><span class="co">#&gt; 22 b|r|a|t|ī|s|l|a|v|a         Bratislava b|r|a|t|y|s|w|a|v|a</span></a>
<a class="sourceLine" id="cb8-52" title="52"><span class="co">#&gt; 24     b|ū|d|a|p|ä|s|t           Budapest     b|u|d|a|p|e|š|t</span></a>
<a class="sourceLine" id="cb8-53" title="53"><span class="co">#&gt;    ORTHOGRAPHY.Polish     ALIGNED.Spanish ORTHOGRAPHY.Spanish</span></a>
<a class="sourceLine" id="cb8-54" title="54"><span class="co">#&gt; 22         Bratysława b|r|a|t|i|z|l|a|β|a          Bratislava</span></a>
<a class="sourceLine" id="cb8-55" title="55"><span class="co">#&gt; 24          Budapeszt     b|u|ð|a|p|e|s|t            Budapest</span></a>
<a class="sourceLine" id="cb8-56" title="56"><span class="co">#&gt;    OFFICIAL.LANGUAGE</span></a>
<a class="sourceLine" id="cb8-57" title="57"><span class="co">#&gt; 22            Slovak</span></a>
<a class="sourceLine" id="cb8-58" title="58"><span class="co">#&gt; 24         Hungarian</span></a>
<a class="sourceLine" id="cb8-59" title="59"></a>
<a class="sourceLine" id="cb8-60" title="60"></a>
<a class="sourceLine" id="cb8-61" title="61"><span class="co"># the ‘cols’ argument can be used to alter the printed output</span></a>
<a class="sourceLine" id="cb8-62" title="62"><span class="kw">findExamples</span> (d.abc, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;O&quot;</span>, <span class="dt">cols=</span><span class="kw">c</span>(<span class="st">&quot;ORTHOGRAPHY.L1&quot;</span>,<span class="st">&quot;ORTHOGRAPHY.L2&quot;</span>))</a>
<a class="sourceLine" id="cb8-63" title="63"><span class="co">#&gt;   ORTHOGRAPHY.L1 ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb8-64" title="64"><span class="co">#&gt; 3            abc           aobc</span></a>
<a class="sourceLine" id="cb8-65" title="65"><span class="co">#&gt; 4           abac           uwuc</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- findPairs() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
</div>
<div id="findpairs" class="section level3">
<h3>findPairs()</h3>
<p>This is a convenience wrapper around ‘findExamples()’ which can be only used for datasets which contain data from exactly two languages. Instead of the three optional arguments of ‘findExamples()’, ‘findPairs()’ only has one. It is called ‘exact’, and it can take several different values.</p>
<p>The default is the inexact mode (‘exact’ set to 0 or ‘FALSE’). It corresponds to ‘distance.start’ and ‘distance.end’ being both set to -1, ‘na.value’ being set to 0, and ‘zeros’ being set to ‘FALSE’, which are also the default settings in ‘findExamples()’. The risk here are false positives. In my experience, however, those are rare, and because they are displayed, the user has a chance to spot them.</p>
<p>The opposite is the exact mode (‘exact’ set to 1 or ‘TRUE’), which corresponds to ‘distance.start’ and ‘distance.end’ being both set to 0, ‘na.value’ being set to -1, and ‘zeros’ to ‘TRUE’. The risk are false negatives, in my experience both much more common than false positives in the inexact mode, and effectively impossible to spot as they are simply not displayed.</p>
<p>A middle ground is the semi-exact mode (‘exact’ set to 0.5), where ‘distance.start’ and ‘distance.end’ are both set to 1, ‘na.value’ is set to 0, and ‘zeros’ to ‘FALSE’. It decreases the risk of false positives while increasing only a little the risk of false negatives.</p>
<p>Apart from the above, ‘findPairs()’ also has the parameter ‘cols’, whose value is passed directly to ‘findExamples()’.</p>
<p>The output of ‘findPairs()’ is the same as the output of ‘findExamples()’.</p>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- allPairs() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -{{{ -->
</div>
<div id="allpairs" class="section level3">
<h3>allPairs()</h3>
<p>‘allPairs()’ does not have great analytic value in itself, but it can be useful when writing a paper e.g. on the phonetic adaptation of loanwords, to prepare its material part.</p>
<p>The output of ‘allPairs()’ consists of sections devoted to each segment, filled with a general contingency table of its various renderings, and followed by subsections which list all pairs exhibiting the given correspondence. ‘soundcorrs’ provides functions to format such output in HTML or in LaTeX, or not at all. Custom formatters are also not very difficult to write.</p>
<p>Tables can show the number of occurrences or the number of words in which the given correspondence manifests itself (‘unit’), in absolute or in relative terms (‘count’; all three with values as with ‘summary()’). Which columns are printed can be modified with ‘cols’, and whether to write to a file or to the screen, with ‘file’ (‘NULL’ meaning the screen). Lastly, the formatting is controlled by a special function, of which ‘soundcorrs’ provides three: ‘formatter.none()’, ‘formatter.html()’, and ‘formatter.latex()’. A custom formatter can also take additional arguments, which will be passed to it from the call to ‘allPairs()’.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># and see what result this gives</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">allPairs</span> (d.abc, <span class="dt">cols=</span><span class="kw">c</span>(<span class="st">&quot;ORTHOGRAPHY.L1&quot;</span>,<span class="st">&quot;ORTHOGRAPHY.L2&quot;</span>))</a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co">#&gt; section  [1] &quot;-&quot;</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="co">#&gt; table    ə </span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="co">#&gt; table    2 </span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="co">#&gt; subsection   [1] &quot;-&quot; &quot;ə&quot;</span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="co">#&gt; data.frame     ORTHOGRAPHY.L1 ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb9-8" title="8"><span class="co">#&gt; data.frame   5            abc           abca</span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="co">#&gt; data.frame   6           abac          abaca</span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="co">#&gt; section  [1] &quot;a&quot;</span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="co">#&gt; table    a o u </span></a>
<a class="sourceLine" id="cb9-12" title="12"><span class="co">#&gt; table    4 1 1 </span></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="co">#&gt; subsection   [1] &quot;a&quot; &quot;a&quot;</span></a>
<a class="sourceLine" id="cb9-14" title="14"><span class="co">#&gt; data.frame     ORTHOGRAPHY.L1 ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb9-15" title="15"><span class="co">#&gt; data.frame   1            abc            abc</span></a>
<a class="sourceLine" id="cb9-16" title="16"><span class="co">#&gt; data.frame   2           abac           abac</span></a>
<a class="sourceLine" id="cb9-17" title="17"><span class="co">#&gt; data.frame   5            abc           abca</span></a>
<a class="sourceLine" id="cb9-18" title="18"><span class="co">#&gt; data.frame   6           abac          abaca</span></a>
<a class="sourceLine" id="cb9-19" title="19"><span class="co">#&gt; subsection   [1] &quot;a&quot; &quot;o&quot;</span></a>
<a class="sourceLine" id="cb9-20" title="20"><span class="co">#&gt; data.frame     ORTHOGRAPHY.L1 ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb9-21" title="21"><span class="co">#&gt; data.frame   3            abc           aobc</span></a>
<a class="sourceLine" id="cb9-22" title="22"><span class="co">#&gt; subsection   [1] &quot;a&quot; &quot;u&quot;</span></a>
<a class="sourceLine" id="cb9-23" title="23"><span class="co">#&gt; data.frame     ORTHOGRAPHY.L1 ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb9-24" title="24"><span class="co">#&gt; data.frame   4           abac           uwuc</span></a>
<a class="sourceLine" id="cb9-25" title="25"><span class="co">#&gt; section  [1] &quot;b&quot;</span></a>
<a class="sourceLine" id="cb9-26" title="26"><span class="co">#&gt; table    b w </span></a>
<a class="sourceLine" id="cb9-27" title="27"><span class="co">#&gt; table    5 1 </span></a>
<a class="sourceLine" id="cb9-28" title="28"><span class="co">#&gt; subsection   [1] &quot;b&quot; &quot;b&quot;</span></a>
<a class="sourceLine" id="cb9-29" title="29"><span class="co">#&gt; data.frame     ORTHOGRAPHY.L1 ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb9-30" title="30"><span class="co">#&gt; data.frame   1            abc            abc</span></a>
<a class="sourceLine" id="cb9-31" title="31"><span class="co">#&gt; data.frame   2           abac           abac</span></a>
<a class="sourceLine" id="cb9-32" title="32"><span class="co">#&gt; data.frame   3            abc           aobc</span></a>
<a class="sourceLine" id="cb9-33" title="33"><span class="co">#&gt; data.frame   5            abc           abca</span></a>
<a class="sourceLine" id="cb9-34" title="34"><span class="co">#&gt; data.frame   6           abac          abaca</span></a>
<a class="sourceLine" id="cb9-35" title="35"><span class="co">#&gt; subsection   [1] &quot;b&quot; &quot;w&quot;</span></a>
<a class="sourceLine" id="cb9-36" title="36"><span class="co">#&gt; data.frame     ORTHOGRAPHY.L1 ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb9-37" title="37"><span class="co">#&gt; data.frame   4           abac           uwuc</span></a>
<a class="sourceLine" id="cb9-38" title="38"><span class="co">#&gt; section  [1] &quot;c&quot;</span></a>
<a class="sourceLine" id="cb9-39" title="39"><span class="co">#&gt; table    c </span></a>
<a class="sourceLine" id="cb9-40" title="40"><span class="co">#&gt; table    6 </span></a>
<a class="sourceLine" id="cb9-41" title="41"><span class="co">#&gt; subsection   [1] &quot;c&quot; &quot;c&quot;</span></a>
<a class="sourceLine" id="cb9-42" title="42"><span class="co">#&gt; data.frame     ORTHOGRAPHY.L1 ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb9-43" title="43"><span class="co">#&gt; data.frame   1            abc            abc</span></a>
<a class="sourceLine" id="cb9-44" title="44"><span class="co">#&gt; data.frame   2           abac           abac</span></a>
<a class="sourceLine" id="cb9-45" title="45"><span class="co">#&gt; data.frame   3            abc           aobc</span></a>
<a class="sourceLine" id="cb9-46" title="46"><span class="co">#&gt; data.frame   4           abac           uwuc</span></a>
<a class="sourceLine" id="cb9-47" title="47"><span class="co">#&gt; data.frame   5            abc           abca</span></a>
<a class="sourceLine" id="cb9-48" title="48"><span class="co">#&gt; data.frame   6           abac          abaca</span></a>
<a class="sourceLine" id="cb9-49" title="49"></a>
<a class="sourceLine" id="cb9-50" title="50"><span class="co"># a clearer result could be obtained by running</span></a>
<a class="sourceLine" id="cb9-51" title="51"><span class="co"># allPairs (d.cap, cols=c(&quot;ORTHOGRAPHY.German&quot;,&quot;ORTHOGRAPHY.Polish&quot;),</span></a>
<a class="sourceLine" id="cb9-52" title="52"><span class="co">#    file=&quot;~/Desktop/d.cap.html&quot;, formatter=formatter.html)</span></a></code></pre></div>
<p>As was mentioned, the “capitals” dataset is linguistically absurd, and so it should not matter that all the Polish names of European capitals are listed as borrowed from German. If however, one wished to fix this problem, and do it not by copying the output to a word processor and replacing “&gt;” with “:” there, but rather inside ‘soundcorrs’, this wish can be fulfilled easily enough. First, the existing ‘formatter.html()’ function needs to be written to a file to serve as a base for the new formatter: ‘dput(formatter.html, “~/Desktop/myFormatter.R”)’. Then, the beginning of the first line of this file needs to be changed to something like ‘myFormatter &lt;- function’…, and finally, the “&gt;” and “&lt;” signs (written in HTML as ‘&amp;gt;’ and ‘&amp;lt;’, respectively) need to be replaced with a colon. All that is then left is to load the new function to R and use it to format the output of ‘allPairs()’:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># load the new formatter function …</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co"># source (&quot;~/Desktop/myFormatter.R&quot;)</span></a>
<a class="sourceLine" id="cb10-3" title="3"></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co"># … and use it instead of ‘formatter.html()’</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co"># allPairs (d.cap, cols=c(&quot;ORTHOGRAPHY.German&quot;,&quot;ORTHOGRAPHY.Polish&quot;),</span></a>
<a class="sourceLine" id="cb10-6" title="6"><span class="co">#    file=&quot;~/Desktop/d.cap.html&quot;, formatter=myFormatter)</span></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="co"># note that this time the output will not open in the web browser automatically </span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- --------------------------------------------------------------------------------------------- }}} -->
<!-- fits ---------------------------------------------------------------------------------------- {{{ -->
</div>
</div>
<div id="fits" class="section level2">
<h2>Fits</h2>
<p>Two ‘soundcorrs’ functions help automate fitting models to data: the simpler ‘multiFit()’ and the slightly more complex ‘fitTable()’.</p>
<!-- multiFit() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -{{{ -->
<div id="multifit" class="section level3">
<h3>multiFit()</h3>
<p>‘multiFit()’ fits multiple models to a single dataset. It takes as argument the dataset, as well as a list of models, in which each element is a list that contains two named fields: ‘formula’, and ‘start’. The latter is a list of lists of starting estimates for the parameteres of the model, to be tested in case the previous ones fail to produce a fit. The user can specify the fitting function, as well as pass additional arguments to it.</p>
<p>The return value of ‘fitTable()’ is a list of lists containing the outputs of the fitting function. Warnings and errors, which are suppressed by ‘multiFit()’, are attached to the individual elements of the output as attributes. Technically, the result is of class ‘list.multiFit’ so that it can passed to ‘summary()’ to produce a table for easier comparison of the fits. The available metrics are ‘aic’, ‘bic’, ‘rss’ (the default), and ‘sigma’. In addition, the output of ‘fitTable()’ has an attribute ‘depth’; it is intended for ‘summary()’, and should not be changed by the user.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># prepare some random data</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">set.seed</span> (<span class="dv">27</span>)</a>
<a class="sourceLine" id="cb11-3" title="3">dataset &lt;-<span class="st"> </span><span class="kw">data.frame</span> (<span class="dt">X=</span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">Y=</span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">+</span><span class="st"> </span><span class="kw">runif</span>(<span class="dv">10</span>,<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb11-4" title="4"></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co"># prepare models to be tested</span></a>
<a class="sourceLine" id="cb11-6" title="6">models &lt;-<span class="st"> </span><span class="kw">list</span> (</a>
<a class="sourceLine" id="cb11-7" title="7">    <span class="st">&quot;model A&quot;</span> =<span class="st"> </span><span class="kw">list</span>( <span class="dt">formula=</span><span class="st">&quot;Y~a+X&quot;</span>, <span class="dt">start=</span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">a=</span><span class="dv">1</span>)) ),</a>
<a class="sourceLine" id="cb11-8" title="8">    <span class="st">&quot;model B&quot;</span> =<span class="st"> </span><span class="kw">list</span>( <span class="dt">formula=</span><span class="st">&quot;Y~a^X&quot;</span>, <span class="dt">start=</span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">a=</span><span class="op">-</span><span class="dv">1</span>),<span class="kw">list</span>(<span class="dt">a=</span><span class="dv">1</span>)) ))</a>
<a class="sourceLine" id="cb11-9" title="9"><span class="co"># normally, (-1)^X would produce an error with ‘nls()’</span></a>
<a class="sourceLine" id="cb11-10" title="10"></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="co"># fit the models to the dataset</span></a>
<a class="sourceLine" id="cb11-12" title="12">fit &lt;-<span class="st"> </span><span class="kw">multiFit</span> (models, dataset)</a>
<a class="sourceLine" id="cb11-13" title="13"></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="co"># inspect the results</span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="kw">summary</span> (fit)</a>
<a class="sourceLine" id="cb11-16" title="16"><span class="co">#&gt;      model A  model B</span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="co">#&gt; rss 4.059485 11.51618</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- fitTable() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -{{{ -->
</div>
<div id="fittable" class="section level3">
<h3>fitTable()</h3>
<p>‘fitTable()’ applies ‘multiFit()’ over a table, such as the ones produced by ‘coocc()’ or ‘summary()’. The arguments are: the models, the dataset, margin (as in ‘apply()’: 1 for rows, 2 for columns), the converter function, and additional arguments passed to ‘multiFit()’ (including the fitting function). The converter is a function that turns individual rows or columns of the table into data frames to which models can be fitted. ‘soundcorrs’ provides three simple functions: ‘vec2df.id()’ (the default one), ‘vec2df.hist()’, and ‘vec2df.rank()’. The first one only attaches a list of ‘X’ values, the second one extracts from a histogram the midpoints and counts, and the third one ranks the data. Any function can be used, so long as it takes a numeric vector as the only argument, and returns a data frame. The names of columns in the data frames returned by these three functions are ‘X’ and ‘Y’, something to be borne in mind when defining the formulae of the models.</p>
<p>As with ‘multiFit()’, the return value of ‘fitTable()’ is a list of the outputs of the fitting function, only in the case of ‘fitTable()’ it is nested. It, too, can be passed to ‘summary()’ to produce a convenient table.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># prepare the data</span></a>
<a class="sourceLine" id="cb12-2" title="2">dataset &lt;-<span class="st"> </span><span class="kw">coocc</span> (d.abc)</a>
<a class="sourceLine" id="cb12-3" title="3"></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="co"># prepare the models to be tested</span></a>
<a class="sourceLine" id="cb12-5" title="5">models &lt;-<span class="st"> </span><span class="kw">list</span> (</a>
<a class="sourceLine" id="cb12-6" title="6">    <span class="st">&quot;model A&quot;</span> =<span class="st"> </span><span class="kw">list</span>( <span class="dt">formula=</span><span class="st">&quot;Y~a*(X+b)^2&quot;</span>, <span class="dt">start=</span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">a=</span><span class="dv">1</span>,<span class="dt">b=</span><span class="dv">1</span>)) ),</a>
<a class="sourceLine" id="cb12-7" title="7">    <span class="st">&quot;model B&quot;</span> =<span class="st"> </span><span class="kw">list</span>( <span class="dt">formula=</span><span class="st">&quot;Y~a*(X-b)^2&quot;</span>, <span class="dt">start=</span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">a=</span><span class="dv">1</span>,<span class="dt">b=</span><span class="dv">1</span>)) ))</a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co"># vanilla nls() often requires fairly accurate starting estimates</span></a>
<a class="sourceLine" id="cb12-9" title="9"></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="co"># fit the models to the dataset</span></a>
<a class="sourceLine" id="cb12-11" title="11">fit &lt;-<span class="st"> </span><span class="kw">fitTable</span> (models, dataset, <span class="dv">1</span>, vec2df.hist)</a>
<a class="sourceLine" id="cb12-12" title="12"></a>
<a class="sourceLine" id="cb12-13" title="13"><span class="co"># inspect the results</span></a>
<a class="sourceLine" id="cb12-14" title="14"><span class="kw">summary</span> (fit, <span class="dt">metric=</span><span class="st">&quot;sigma&quot;</span>)</a>
<a class="sourceLine" id="cb12-15" title="15"><span class="co">#&gt;               -_ə      a_a       a_o     a_u       b_b       b_w       c_c</span></a>
<a class="sourceLine" id="cb12-16" title="16"><span class="co">#&gt; model A        NA 1.272453        NA      NA        NA        NA        NA</span></a>
<a class="sourceLine" id="cb12-17" title="17"><span class="co">#&gt; model B 0.4291194  1.03122 0.9342932 0.72328 0.5919122 0.9342932 0.5919122</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- --------------------------------------------------------------------------------------------- }}} -->
<!-- sound changes ------------------------------------------------------------------------------- {{{ -->
</div>
</div>
<div id="sound-changes-1" class="section level2">
<h2>Sound changes</h2>
<p>Currently, ‘soundcorrs’ offers only one function related to sound changes. It is ‘applyChanges()’, and it can be used to automatically apply a series of changes to a series of words.</p>
<!-- applyChanges() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -{{{ -->
<div id="applychanges" class="section level3">
<h3>applyChanges()</h3>
<p>‘applyChanges()’ does what its name suggests: it applies a series of sound changes to a series of words. It takes up to four arguments: ‘data’ which is a vector of character strings to which the changes will be applied; ‘changes’, a list of ‘soundchange’ objects; ‘target’, a vector of character strings of the same length as ‘data’, to which the results will be compared; and ‘meta’, a vector of the same length as ‘data’, which will be passed on to ‘soundchange’ functions.</p>
<p>The return value of ‘applyChanges()’ is a list, technically of class ‘list.applyChanges’, which contains three elements: ‘end’, the final results of the application of sound changes (this is the only element that is printed by default); ‘match’ which is a named list of the results of comparison to ‘target’; and ‘tree’ which saves the path by which the final forms in ‘end’ have been arrived at. The values in ‘target’ can be: 0 if none of the results matches ‘target’, 0.5 if at least one but not all of the results match ‘target’, and 1 if all the results match ‘target’.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="co"># prepare a list of changes, in the order of application</span></a>
<a class="sourceLine" id="cb13-2" title="2">sc.list &lt;-<span class="st"> </span><span class="kw">list</span> (sc.VV2a, sc<span class="fl">.2</span>ndV2a, sc.CV2Ca)</a>
<a class="sourceLine" id="cb13-3" title="3"></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co"># prepare the data and the expected results</span></a>
<a class="sourceLine" id="cb13-5" title="5">data &lt;-<span class="st"> </span><span class="kw">c</span> (<span class="st">&quot;ouroboros&quot;</span>, <span class="st">&quot;jormungandr&quot;</span>)</a>
<a class="sourceLine" id="cb13-6" title="6">target &lt;-<span class="st"> </span><span class="kw">c</span> (<span class="st">&quot;arabaras&quot;</span>, <span class="st">&quot;jarmangandr&quot;</span>)</a>
<a class="sourceLine" id="cb13-7" title="7"></a>
<a class="sourceLine" id="cb13-8" title="8"><span class="co"># and apply the changes to our data</span></a>
<a class="sourceLine" id="cb13-9" title="9">res &lt;-<span class="st"> </span><span class="kw">applyChanges</span> (data, sc.list, target, <span class="dt">meta=</span><span class="ot">NULL</span>)</a>
<a class="sourceLine" id="cb13-10" title="10">res</a>
<a class="sourceLine" id="cb13-11" title="11"><span class="co">#&gt; $ouroboros</span></a>
<a class="sourceLine" id="cb13-12" title="12"><span class="co">#&gt; [1] &quot;arabaras&quot;</span></a>
<a class="sourceLine" id="cb13-13" title="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-14" title="14"><span class="co">#&gt; $jormungandr</span></a>
<a class="sourceLine" id="cb13-15" title="15"><span class="co">#&gt; [1] &quot;jormangandr&quot;</span></a>
<a class="sourceLine" id="cb13-16" title="16"></a>
<a class="sourceLine" id="cb13-17" title="17"><span class="co"># see if they match the expectations</span></a>
<a class="sourceLine" id="cb13-18" title="18">res<span class="op">$</span>match</a>
<a class="sourceLine" id="cb13-19" title="19"><span class="co">#&gt; $ouroboros</span></a>
<a class="sourceLine" id="cb13-20" title="20"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb13-21" title="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-22" title="22"><span class="co">#&gt; $jormungandr</span></a>
<a class="sourceLine" id="cb13-23" title="23"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb13-24" title="24"></a>
<a class="sourceLine" id="cb13-25" title="25"><span class="co"># see which change did not work as expected</span></a>
<a class="sourceLine" id="cb13-26" title="26"><span class="co">#    it was CV &gt; Ca because our changes use the sample &quot;common&quot; transcription,</span></a>
<a class="sourceLine" id="cb13-27" title="27"><span class="co">#    and j does not count in it as a consonant (it's a semivowel)</span></a>
<a class="sourceLine" id="cb13-28" title="28">res<span class="op">$</span>tree</a>
<a class="sourceLine" id="cb13-29" title="29"><span class="co">#&gt; 1 ouroboros [VV&gt;a]</span></a>
<a class="sourceLine" id="cb13-30" title="30"><span class="co">#&gt; 2 .. aroboros [2ndV&gt;a]</span></a>
<a class="sourceLine" id="cb13-31" title="31"><span class="co">#&gt; 3 .. .. araboros [CV&gt;Ca]</span></a>
<a class="sourceLine" id="cb13-32" title="32"><span class="co">#&gt; 4 .. .. .. arabaras</span></a>
<a class="sourceLine" id="cb13-33" title="33"><span class="co">#&gt; 1 jormungandr [VV&gt;a]</span></a>
<a class="sourceLine" id="cb13-34" title="34"><span class="co">#&gt; 2 .. jormungandr [2ndV&gt;a]</span></a>
<a class="sourceLine" id="cb13-35" title="35"><span class="co">#&gt; 3 .. .. jormangandr [CV&gt;Ca]</span></a>
<a class="sourceLine" id="cb13-36" title="36"><span class="co">#&gt; 4 .. .. .. jormangandr</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- --------------------------------------------------------------------------------------------- }}} -->
<!-- helper functions ---------------------------------------------------------------------------- {{{ -->
</div>
</div>
<div id="helper-functions" class="section level2">
<h2>Helper functions</h2>
<p>In addition to analytic functions, ‘soundcorrs’ also exports several helpers. Let us now briefly discuss those, this time simply in the alphabetic order.</p>
<!-- addSeparators() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
<div id="addseparators" class="section level3">
<h3>addSeparators()</h3>
<p>As was mentioned above, automatic segmentation and alignment requires careful supervision, and it may prove in the end to be easier to do by hand. ‘addSeparators()’ can facilitate the first half of this task by interspersing a vector of character strings with a separator.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># using the default ‘|’ …</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">addSeparators</span> (d.abc<span class="op">$</span>data<span class="op">$</span>ORTHOGRAPHY.L1)</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="co">#&gt; [1] &quot;a|b|c&quot;   &quot;a|b|a|c&quot; &quot;a|b|c&quot;   &quot;a|b|a|c&quot; &quot;a|b|c&quot;   &quot;a|b|a|c&quot;</span></a>
<a class="sourceLine" id="cb14-4" title="4"></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="co"># … or a full stop</span></a>
<a class="sourceLine" id="cb14-6" title="6"><span class="kw">addSeparators</span> (d.abc<span class="op">$</span>data<span class="op">$</span>ORTHOGRAPHY.L1, <span class="st">&quot;.&quot;</span>)</a>
<a class="sourceLine" id="cb14-7" title="7"><span class="co">#&gt; [1] &quot;a.b.c&quot;   &quot;a.b.a.c&quot; &quot;a.b.c&quot;   &quot;a.b.a.c&quot; &quot;a.b.c&quot;   &quot;a.b.a.c&quot;</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- binTable() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -{{{ -->
</div>
<div id="bintable" class="section level3">
<h3>binTable()</h3>
<p>It may be sometimes that the data are insufficient for a test of independence, or that the contingency table is too diversified to draw concrete conclusions from it. ‘binTable()’ takes one or more rows and one or more columns as arguments, and leaves those rows and columns unchanged, while summing up all the others.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># build a table for a slightly larger dataset</span></a>
<a class="sourceLine" id="cb15-2" title="2">tab &lt;-<span class="st"> </span><span class="kw">coocc</span> (d.cap)</a>
<a class="sourceLine" id="cb15-3" title="3"></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="co"># let us focus on L1 a and o</span></a>
<a class="sourceLine" id="cb15-5" title="5">rows &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">rownames</span>(tab) <span class="op">%hasPrefix%</span><span class="st"> &quot;a&quot;</span>)</a>
<a class="sourceLine" id="cb15-6" title="6">cols &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">colnames</span>(tab) <span class="op">%hasPrefix%</span><span class="st"> &quot;o&quot;</span>)</a>
<a class="sourceLine" id="cb15-7" title="7"><span class="kw">binTable</span> (tab, rows, cols)</a>
<a class="sourceLine" id="cb15-8" title="8"><span class="co">#&gt;       o_o_o non-o_o_o</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">#&gt; a_a_a     0        57</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="co">#&gt; a_a_o     0         6</span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="co">#&gt; a_a_u     0         5</span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="co">#&gt; other    16      1041</span></a>
<a class="sourceLine" id="cb15-13" title="13"></a>
<a class="sourceLine" id="cb15-14" title="14"><span class="co"># or on all a-like and o-like vowels</span></a>
<a class="sourceLine" id="cb15-15" title="15">rows &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">rownames</span>(tab) <span class="op">%hasPrefix%</span><span class="st"> &quot;[aāäǟ]&quot;</span>)</a>
<a class="sourceLine" id="cb15-16" title="16">cols &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">colnames</span>(tab) <span class="op">%hasPrefix%</span><span class="st"> &quot;[oōöȫ]&quot;</span>)</a>
<a class="sourceLine" id="cb15-17" title="17"><span class="kw">binTable</span> (tab, rows, cols)</a>
<a class="sourceLine" id="cb15-18" title="18"><span class="co">#&gt;       o_o_o ō_o_o ō_y_o other</span></a>
<a class="sourceLine" id="cb15-19" title="19"><span class="co">#&gt; a_a_a     0     1     0    56</span></a>
<a class="sourceLine" id="cb15-20" title="20"><span class="co">#&gt; a_a_o     0     0     0     6</span></a>
<a class="sourceLine" id="cb15-21" title="21"><span class="co">#&gt; a_a_u     0     0     0     5</span></a>
<a class="sourceLine" id="cb15-22" title="22"><span class="co">#&gt; ä_e_e     0     0     0    36</span></a>
<a class="sourceLine" id="cb15-23" title="23"><span class="co">#&gt; ā_-_-     1     0     0     6</span></a>
<a class="sourceLine" id="cb15-24" title="24"><span class="co">#&gt; ā_a_a     0     2     0    47</span></a>
<a class="sourceLine" id="cb15-25" title="25"><span class="co">#&gt; other    15    16     3   931</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- expandMeta() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -{{{ -->
</div>
<div id="expandmeta" class="section level3">
<h3>expandMeta()</h3>
<p>Metacharacters defined in the transcription (“wildcards”) can be used inside sound changes, as well as inside a ‘findExamples()’ or a ‘findPairs()’ query, but they can also be used with ‘grep()’ or any other function. The only difference is that the first three functions automatically make a call to ‘expandMeta()’ in order to translate those metacharacters into regular expressions that vanilla R can understand, while for ‘grep()’, or any other function from outside ‘soundcorrs’, the user needs to make an explicit call to ‘expandMeta()’.</p>
<p>Beside the metacharacters defined in the transcription, ‘expandMeta()’ can also understand ‘binary notation’, i.e. an enumeration of distinctive features such as “[+cons,-stop]”. The condition is that the enumeration must be enclosed in square brackets, it must contain the same features as are used in the VALUE column in the transcription, each feature must have a “+” or “-” sign in front of it, the features must be separated by commas, and there can be no spaces inside the brackets. Should any of those rules be broken, the would-be wildcard will be kept in the query string as is, and will surely fail to produce any match in the search.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="co"># let us search a column other than the one specified as ‘aligned’</span></a>
<a class="sourceLine" id="cb16-2" title="2">orth &lt;-<span class="st"> </span>d.abc<span class="op">$</span>data [, <span class="st">&quot;ORTHOGRAPHY.L2&quot;</span>]</a>
<a class="sourceLine" id="cb16-3" title="3"></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="co"># look for all VCC sequences</span></a>
<a class="sourceLine" id="cb16-5" title="5">query &lt;-<span class="st"> </span><span class="kw">expandMeta</span> (d.cap<span class="op">$</span>trans[[<span class="dv">1</span>]], <span class="st">&quot;VCC&quot;</span>)</a>
<a class="sourceLine" id="cb16-6" title="6">orth [<span class="kw">grep</span>(query,orth)]</a>
<a class="sourceLine" id="cb16-7" title="7"><span class="co">#&gt; [1] &quot;abc&quot;  &quot;aobc&quot; &quot;abca&quot;</span></a>
<a class="sourceLine" id="cb16-8" title="8"></a>
<a class="sourceLine" id="cb16-9" title="9"><span class="co"># look for all VCC words</span></a>
<a class="sourceLine" id="cb16-10" title="10">query &lt;-<span class="st"> </span><span class="kw">expandMeta</span> (d.cap<span class="op">$</span>trans[[<span class="dv">1</span>]], <span class="st">&quot;^VCC$&quot;</span>)</a>
<a class="sourceLine" id="cb16-11" title="11">orth [<span class="kw">grep</span>(query,orth)]</a>
<a class="sourceLine" id="cb16-12" title="12"><span class="co">#&gt; [1] &quot;abc&quot;</span></a>
<a class="sourceLine" id="cb16-13" title="13"></a>
<a class="sourceLine" id="cb16-14" title="14"><span class="co"># the same in the binary notation</span></a>
<a class="sourceLine" id="cb16-15" title="15">query &lt;-<span class="st"> </span><span class="kw">expandMeta</span> (d.cap<span class="op">$</span>trans[[<span class="dv">1</span>]], <span class="st">&quot;^[+vow][+cons][+cons]$&quot;</span>)</a>
<a class="sourceLine" id="cb16-16" title="16">orth [<span class="kw">grep</span>(query,orth)]</a>
<a class="sourceLine" id="cb16-17" title="17"><span class="co">#&gt; [1] &quot;abc&quot;</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- %hasPrefix% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
</div>
<div id="hasprefix" class="section level3">
<h3>%hasPrefix%</h3>
<p>Checks if a string begins with another string. In ‘soundcorrs’, this can be useful for extracting specific rows and columns from a contingency table.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="co"># build a table for a slightly larger dataset</span></a>
<a class="sourceLine" id="cb17-2" title="2">tab &lt;-<span class="st"> </span><span class="kw">coocc</span> (d.cap)</a>
<a class="sourceLine" id="cb17-3" title="3"></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="co"># it is quite difficult to read as a whole, so let us focus</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="co">#    on a-like vowels in L1 and s-like consonants in L2</span></a>
<a class="sourceLine" id="cb17-6" title="6">rows &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">rownames</span>(tab) <span class="op">%hasPrefix%</span><span class="st"> &quot;[aāäǟ]&quot;</span>)</a>
<a class="sourceLine" id="cb17-7" title="7">cols &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">colnames</span>(tab) <span class="op">%hasPrefix%</span><span class="st"> &quot;[sśš]&quot;</span>)</a>
<a class="sourceLine" id="cb17-8" title="8">tab [rows, cols]</a>
<a class="sourceLine" id="cb17-9" title="9"><span class="co">#&gt;                      German_Polish_Spanish</span></a>
<a class="sourceLine" id="cb17-10" title="10"><span class="co">#&gt; German_Polish_Spanish s_s_s s_s_z s_z_z s_š_s š_š_s</span></a>
<a class="sourceLine" id="cb17-11" title="11"><span class="co">#&gt;                 a_a_a     1     1     0     1     1</span></a>
<a class="sourceLine" id="cb17-12" title="12"><span class="co">#&gt;                 a_a_o     0     0     0     0     1</span></a>
<a class="sourceLine" id="cb17-13" title="13"><span class="co">#&gt;                 a_a_u     0     0     0     0     0</span></a>
<a class="sourceLine" id="cb17-14" title="14"><span class="co">#&gt;                 ä_e_e     0     0     0     2     0</span></a>
<a class="sourceLine" id="cb17-15" title="15"><span class="co">#&gt;                 ā_-_-     0     0     1     0     0</span></a>
<a class="sourceLine" id="cb17-16" title="16"><span class="co">#&gt;                 ā_a_a     0     0     0     2     0</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- %hasSuffix% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
</div>
<div id="hassuffix" class="section level3">
<h3>%hasSuffix%</h3>
<p>‘%hasSuffix%’ works nearly the same as ‘%hasPrefix%’, only instead of the beginning of a word, it looks at its end.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="co"># build a table for a slightly larger dataset</span></a>
<a class="sourceLine" id="cb18-2" title="2">tab &lt;-<span class="st"> </span><span class="kw">coocc</span> (d.cap)</a>
<a class="sourceLine" id="cb18-3" title="3"></a>
<a class="sourceLine" id="cb18-4" title="4"><span class="co"># it is quite difficult to read as a whole, so let us focus</span></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="co">#    on what corresponds to a-like vowels in L1 and s-like consonants in L2</span></a>
<a class="sourceLine" id="cb18-6" title="6">rows &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">rownames</span>(tab) <span class="op">%hasSuffix%</span><span class="st"> &quot;[aāäǟ]&quot;</span>)</a>
<a class="sourceLine" id="cb18-7" title="7">cols &lt;-<span class="st"> </span><span class="kw">which</span> (<span class="kw">colnames</span>(tab) <span class="op">%hasSuffix%</span><span class="st"> &quot;[sśš]&quot;</span>)</a>
<a class="sourceLine" id="cb18-8" title="8">tab [rows, cols]</a>
<a class="sourceLine" id="cb18-9" title="9"><span class="co">#&gt;                      German_Polish_Spanish</span></a>
<a class="sourceLine" id="cb18-10" title="10"><span class="co">#&gt; German_Polish_Spanish -_-_s s_s_s s_š_s z_s_s z_z_s š_š_s</span></a>
<a class="sourceLine" id="cb18-11" title="11"><span class="co">#&gt;               -_-_a       0     0     0     0     0     0</span></a>
<a class="sourceLine" id="cb18-12" title="12"><span class="co">#&gt;               -_a_a       1     1     0     0     0     0</span></a>
<a class="sourceLine" id="cb18-13" title="13"><span class="co">#&gt;               -_a_ja      0     0     0     0     0     1</span></a>
<a class="sourceLine" id="cb18-14" title="14"><span class="co">#&gt;               -_y_a       1     0     0     0     0     0</span></a>
<a class="sourceLine" id="cb18-15" title="15"><span class="co">#&gt;               a_a_a       1     1     1     1     0     1</span></a>
<a class="sourceLine" id="cb18-16" title="16"><span class="co">#&gt;               jus_o_a     0     0     0     0     0     0</span></a>
<a class="sourceLine" id="cb18-17" title="17"><span class="co">#&gt;               ā_a_a       0     0     2     0     1     0</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- lapplyTest() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -{{{ -->
</div>
<div id="lapplytest" class="section level3">
<h3>lapplyTest()</h3>
<p>‘lapplyTest()’ is a variant of ‘base::lapply()’ specifically adjusted for the application of tests of independence. The main difference lies in the handling of warnings and errors.</p>
<p>This function takes a list of contingency tables, such as generated by ‘allCooccs()’ above, and applies to each of its elements a function given in ‘fun’. By default, it is ‘chisq.test()’, but any other test can be used, so long as its output contains an element named ‘p.value’. The result is a list of the outputs of ‘fun’, to each attached as an attribute a warning or an error if any were produced. Additional arguments to ‘fun’ can also be passed in a call to ‘lapplyTest()’.</p>
<p>Technically, the output is of class ‘list.lapplyTest’. It can be passed to ‘summary()’ to sift through the results and only print the ones with the p-value below the specified threshold (the default is 0.05). Those tests which produced a warning are prefixed with an exclamation mark.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="co"># let us prepare the tables</span></a>
<a class="sourceLine" id="cb19-2" title="2">tabs &lt;-<span class="st"> </span><span class="kw">allCooccs</span> (d.abc, <span class="dt">bin=</span>F)</a>
<a class="sourceLine" id="cb19-3" title="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-4" title="4">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb19-5" title="5"><span class="st">  </span><span class="er">|</span><span class="st">                                                                 </span><span class="er">|</span><span class="st">   </span><span class="dv">0</span>%</a>
<a class="sourceLine" id="cb19-6" title="6">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb19-7" title="7"><span class="st">  </span><span class="er">|================</span><span class="st">                                                 </span><span class="er">|</span><span class="st">  </span><span class="dv">25</span>%</a>
<a class="sourceLine" id="cb19-8" title="8">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb19-9" title="9"><span class="st">  </span><span class="er">|================================</span><span class="st">                                 </span><span class="er">|</span><span class="st">  </span><span class="dv">50</span>%</a>
<a class="sourceLine" id="cb19-10" title="10">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb19-11" title="11"><span class="st">  </span><span class="er">|=================================================</span><span class="st">                </span><span class="er">|</span><span class="st">  </span><span class="dv">75</span>%</a>
<a class="sourceLine" id="cb19-12" title="12">  <span class="op">|</span><span class="st">                                                                       </span></a>
<a class="sourceLine" id="cb19-13" title="13"><span class="st">  </span><span class="er">|=================================================================|</span><span class="st"> </span><span class="dv">100</span>%</a>
<a class="sourceLine" id="cb19-14" title="14"></a>
<a class="sourceLine" id="cb19-15" title="15"><span class="co"># and apply the chi-squared test to them</span></a>
<a class="sourceLine" id="cb19-16" title="16">chisq &lt;-<span class="st"> </span><span class="kw">lapplyTest</span> (tabs)</a>
<a class="sourceLine" id="cb19-17" title="17">chisq</a>
<a class="sourceLine" id="cb19-18" title="18"><span class="co">#&gt; $`-`</span></a>
<a class="sourceLine" id="cb19-19" title="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-20" title="20"><span class="co">#&gt;  Chi-squared test for given probabilities</span></a>
<a class="sourceLine" id="cb19-21" title="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-22" title="22"><span class="co">#&gt; data:  tab</span></a>
<a class="sourceLine" id="cb19-23" title="23"><span class="co">#&gt; X-squared = 6, df = 5, p-value = 0.3062</span></a>
<a class="sourceLine" id="cb19-24" title="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-25" title="25"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-26" title="26"><span class="co">#&gt; $a</span></a>
<a class="sourceLine" id="cb19-27" title="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-28" title="28"><span class="co">#&gt;  Pearson's Chi-squared test</span></a>
<a class="sourceLine" id="cb19-29" title="29"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-30" title="30"><span class="co">#&gt; data:  tab</span></a>
<a class="sourceLine" id="cb19-31" title="31"><span class="co">#&gt; X-squared = 7.7467, df = 6, p-value = 0.2573</span></a>
<a class="sourceLine" id="cb19-32" title="32"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-33" title="33"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-34" title="34"><span class="co">#&gt; $b</span></a>
<a class="sourceLine" id="cb19-35" title="35"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-36" title="36"><span class="co">#&gt;  Pearson's Chi-squared test</span></a>
<a class="sourceLine" id="cb19-37" title="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-38" title="38"><span class="co">#&gt; data:  tab</span></a>
<a class="sourceLine" id="cb19-39" title="39"><span class="co">#&gt; X-squared = 7.1944, df = 4, p-value = 0.126</span></a>
<a class="sourceLine" id="cb19-40" title="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-41" title="41"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-42" title="42"><span class="co">#&gt; $c</span></a>
<a class="sourceLine" id="cb19-43" title="43"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-44" title="44"><span class="co">#&gt;  Chi-squared test for given probabilities</span></a>
<a class="sourceLine" id="cb19-45" title="45"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-46" title="46"><span class="co">#&gt; data:  tab</span></a>
<a class="sourceLine" id="cb19-47" title="47"><span class="co">#&gt; X-squared = 6.5714, df = 5, p-value = 0.2545</span></a>
<a class="sourceLine" id="cb19-48" title="48"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-49" title="49"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-50" title="50"><span class="co">#&gt; attr(,&quot;class&quot;)</span></a>
<a class="sourceLine" id="cb19-51" title="51"><span class="co">#&gt; [1] &quot;list.lapplyTest&quot;</span></a>
<a class="sourceLine" id="cb19-52" title="52"></a>
<a class="sourceLine" id="cb19-53" title="53"><span class="co"># this is only an example on a tiny dataset, so let us be more forgiving</span></a>
<a class="sourceLine" id="cb19-54" title="54"><span class="kw">summary</span> (chisq, <span class="dt">p.value=</span><span class="fl">0.3</span>)</a>
<a class="sourceLine" id="cb19-55" title="55"><span class="co">#&gt; Total results: 4; with p-value ≤ 0.3: 3.</span></a>
<a class="sourceLine" id="cb19-56" title="56"><span class="co">#&gt; ! a: p-value = 0.257</span></a>
<a class="sourceLine" id="cb19-57" title="57"><span class="co">#&gt; ! b: p-value = 0.126</span></a>
<a class="sourceLine" id="cb19-58" title="58"><span class="co">#&gt; ! c: p-value = 0.255</span></a>
<a class="sourceLine" id="cb19-59" title="59"></a>
<a class="sourceLine" id="cb19-60" title="60"><span class="co"># let us see the problems with ‘a’</span></a>
<a class="sourceLine" id="cb19-61" title="61"><span class="kw">attr</span> (chisq<span class="op">$</span>a, <span class="st">&quot;error&quot;</span>)</a>
<a class="sourceLine" id="cb19-62" title="62"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb19-63" title="63"><span class="kw">attr</span> (chisq<span class="op">$</span>a, <span class="st">&quot;warning&quot;</span>)</a>
<a class="sourceLine" id="cb19-64" title="64"><span class="co">#&gt; &lt;simpleWarning in fun(tab, ...): Chi-squared approximation may be incorrect&gt;</span></a>
<a class="sourceLine" id="cb19-65" title="65"></a>
<a class="sourceLine" id="cb19-66" title="66"><span class="co"># this warning often means that the data were insufficient</span></a>
<a class="sourceLine" id="cb19-67" title="67">tabs<span class="op">$</span>a</a>
<a class="sourceLine" id="cb19-68" title="68"><span class="co">#&gt;      L1_L2</span></a>
<a class="sourceLine" id="cb19-69" title="69"><span class="co">#&gt; L1_L2 -_ə b_b b_w c_c</span></a>
<a class="sourceLine" id="cb19-70" title="70"><span class="co">#&gt;   a_a   2   4   0   4</span></a>
<a class="sourceLine" id="cb19-71" title="71"><span class="co">#&gt;   a_o   0   1   0   1</span></a>
<a class="sourceLine" id="cb19-72" title="72"><span class="co">#&gt;   a_u   0   0   1   1</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- loadSampleDataset() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
</div>
<div id="loadsampledataset" class="section level3">
<h3>loadSampleDataset()</h3>
<p>Due to technical limitations of R and CRAN, primarily to do with encoding, sample datasets provided by ‘soundcorrs’ cannot be stored in the preloaded form (non-ASCII characters). They also cannot be automatically loaded when ‘soundcorrs’ is attached (staged install prevents this kind of usage of ‘system.file()’), and they cannot be included in full in the source files, even when Unicode characters are escaped because Windows do not know how to convert those to native encoding. It seems that the only half-convenient way of making Unicode datasets available is through a separate function that can load them on user’s request. ‘loadSampleDataset()’ is such a function.</p>
<p>It only takes one argument, ‘x’, which can take one of the following values:</p>
<ul>
<li>‘soundchange’s: ‘change-dl2l’ (the *<em>l</em>, *<em>dl</em> &gt; *<em>l</em> merger in Slavic, regressively), ‘change-palatalization’ (the first palatalization in Slavic, progressively), ‘change-rhotacism’ (rhotacism in Latin, progressively);</li>
<li>‘soundcorrs’: ‘data-abc’ (entirely made up), ‘data-capitals’ (EU capitals in German, Polish, and Spanish), ‘data-ie’ (a dozen Indo-European examples from Campbell’s <em>Historical Linguistics</em>, see above);</li>
<li>‘transcription’: ‘trans-common’ (a fragment of the traditional continental transcription), ‘trans-ipa’ (a fragment of the IPA).</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1"><span class="co"># load a transcription</span></a>
<a class="sourceLine" id="cb20-2" title="2">tmp &lt;-<span class="st"> </span><span class="kw">loadSampleDataset</span> (<span class="st">&quot;trans-common&quot;</span>)</a>
<a class="sourceLine" id="cb20-3" title="3"></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="co"># it's the same that we've already loaded above</span></a>
<a class="sourceLine" id="cb20-5" title="5"><span class="kw">identical</span> (tmp, trans.com)</a>
<a class="sourceLine" id="cb20-6" title="6"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- long2wide() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
</div>
<div id="long2wide" class="section level3">
<h3>long2wide()</h3>
<p>‘long2wide()’, together with ‘wide2long()’ are used to convert data frames between the “long format” and the “wide format” (see above). Of these two, ‘long2wide()’ is particularly useful because the “long format” tends to be easier for humans to perform the segmentation, and is therefore preferable for storing data, while the “wide format” is used internally and required by ‘soundcorrs’.</p>
<p>During the conversion, the number of columns is almost doubled (while the number of rows halved), but because it is unwise to have duplicate column names, they are given suffixes – which are taken from the values in the column ‘LANGUAGE’. The name of the column used for that purpose can be changed using the ‘col.lang’ argument.</p>
<p>Some of the attributes pertain to only one word in a pair or to the pair as a whole. In the “long format” those have to be repeated, but in the “wide format” this is not necessary. ‘long2wide()’ allows for certain columns to be excluded from the conversion, using the ‘skip’ argument.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1"><span class="co"># the “abc” dataset is in the long format</span></a>
<a class="sourceLine" id="cb21-2" title="2">abc.long &lt;-<span class="st"> </span><span class="kw">read.table</span> (path.abc, <span class="dt">header=</span>T)</a>
<a class="sourceLine" id="cb21-3" title="3"></a>
<a class="sourceLine" id="cb21-4" title="4"><span class="co"># the simplest conversion unnecessarily doubles the ID column</span></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="kw">long2wide</span> (abc.long)</a>
<a class="sourceLine" id="cb21-6" title="6"><span class="co">#&gt;   ID.L1 DIALECT.L1 ALIGNED.L1 ORTHOGRAPHY.L1 ID.L2 DIALECT.L2 ALIGNED.L2</span></a>
<a class="sourceLine" id="cb21-7" title="7"><span class="co">#&gt; 1     1        std      a|b|c            abc     1        std      a|b|c</span></a>
<a class="sourceLine" id="cb21-8" title="8"><span class="co">#&gt; 2     2        std    a|b|a|c           abac     2        std    a|b|a|c</span></a>
<a class="sourceLine" id="cb21-9" title="9"><span class="co">#&gt; 3     3        std      a|b|c            abc     3      north      o|b|c</span></a>
<a class="sourceLine" id="cb21-10" title="10"><span class="co">#&gt; 4     4        std    a|b|a|c           abac     4      north    u|w|u|c</span></a>
<a class="sourceLine" id="cb21-11" title="11"><span class="co">#&gt; 5     5        std    a|b|c|-            abc     5      south    a|b|c|ə</span></a>
<a class="sourceLine" id="cb21-12" title="12"><span class="co">#&gt; 6     6        std  a|b|a|c|-           abac     6      south  a|b|a|c|ə</span></a>
<a class="sourceLine" id="cb21-13" title="13"><span class="co">#&gt;   ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb21-14" title="14"><span class="co">#&gt; 1            abc</span></a>
<a class="sourceLine" id="cb21-15" title="15"><span class="co">#&gt; 2           abac</span></a>
<a class="sourceLine" id="cb21-16" title="16"><span class="co">#&gt; 3           aobc</span></a>
<a class="sourceLine" id="cb21-17" title="17"><span class="co">#&gt; 4           uwuc</span></a>
<a class="sourceLine" id="cb21-18" title="18"><span class="co">#&gt; 5           abca</span></a>
<a class="sourceLine" id="cb21-19" title="19"><span class="co">#&gt; 6          abaca</span></a>
<a class="sourceLine" id="cb21-20" title="20"></a>
<a class="sourceLine" id="cb21-21" title="21"><span class="co"># but this can be avoided with the ‘skip’ argument</span></a>
<a class="sourceLine" id="cb21-22" title="22">abc.wide &lt;-<span class="st"> </span><span class="kw">long2wide</span> (abc.long, <span class="dt">skip=</span><span class="st">&quot;ID&quot;</span>)</a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- ngrams() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -{{{ -->
</div>
<div id="ngrams" class="section level3">
<h3>ngrams()</h3>
<p>‘ngrams()’ turns a vector of words into a list of n-grams, or a table of its frequencies. The first argument is the vector of words; the second is ‘n’, the length of n-grams to extract (defaults to ‘1’); and the last ‘as.table’ which determines whether the output is a list of n-grams or a table of its frequencies (defaults to ‘TRUE’).</p>
<p>Two more arguments are available. ‘borders’ is a vector of two character strings: the first to be prepended to all the words, and the second to be appended to them. This way it is clear which n-grams were in the initial, and which in the final position inside the word. ‘borders’ defaults to a vector of two empty strings. Lastly, ‘rm’ is a string of characters that are to be removed from the words before they are cut into n-grams. For instance, to remove all linguistic zeros use ‘rm=“-”’, and to remove zeros and segment separators, use ‘rm=“[-\|]”’.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="co"># with n==1, ngrams() returns simply the frequencies of segments</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw">ngrams</span> (d.cap<span class="op">$</span>data[,<span class="st">&quot;ORTHOGRAPHY.Spanish&quot;</span>])</a>
<a class="sourceLine" id="cb22-3" title="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb22-4" title="4"><span class="co">#&gt;  A  B  C  D  E  H  L  M  N  P  R  S  T  V  Z  _  a  b  c  d  e  f  g  h  i </span></a>
<a class="sourceLine" id="cb22-5" title="5"><span class="co">#&gt;  1  5  2  1  1  1  4  1  1  2  2  1  1  4  1  3 30  5  3  7 14  1  5  1 15 </span></a>
<a class="sourceLine" id="cb22-6" title="6"><span class="co">#&gt;  k  l  m  n  o  p  r  s  t  u  v  x  Á  í </span></a>
<a class="sourceLine" id="cb22-7" title="7"><span class="co">#&gt;  1 11  5  9 10  2 11 13  7  9  2  1  1  4</span></a>
<a class="sourceLine" id="cb22-8" title="8"></a>
<a class="sourceLine" id="cb22-9" title="9"><span class="co"># counts can easily be turned into a data frame with ranks</span></a>
<a class="sourceLine" id="cb22-10" title="10">tab &lt;-<span class="st"> </span><span class="kw">ngrams</span> (d.cap<span class="op">$</span>data[,<span class="st">&quot;ORTHOGRAPHY.Spanish&quot;</span>], <span class="dt">n=</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb22-11" title="11">mtx &lt;-<span class="st"> </span><span class="kw">as.matrix</span> (<span class="kw">sort</span>(tab,<span class="dt">decreasing=</span>T))</a>
<a class="sourceLine" id="cb22-12" title="12"><span class="kw">head</span> (<span class="kw">data.frame</span> (<span class="dt">RANK=</span><span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(mtx), <span class="dt">COUNT=</span>mtx, <span class="dt">FREQ=</span>mtx<span class="op">/</span><span class="kw">sum</span>(mtx)))</a>
<a class="sourceLine" id="cb22-13" title="13"><span class="co">#&gt;    RANK COUNT       FREQ</span></a>
<a class="sourceLine" id="cb22-14" title="14"><span class="co">#&gt; na    1     4 0.02339181</span></a>
<a class="sourceLine" id="cb22-15" title="15"><span class="co">#&gt; st    2     4 0.02339181</span></a>
<a class="sourceLine" id="cb22-16" title="16"><span class="co">#&gt; ag    3     3 0.01754386</span></a>
<a class="sourceLine" id="cb22-17" title="17"><span class="co">#&gt; ar    4     3 0.01754386</span></a>
<a class="sourceLine" id="cb22-18" title="18"><span class="co">#&gt; da    5     3 0.01754386</span></a>
<a class="sourceLine" id="cb22-19" title="19"><span class="co">#&gt; en    6     3 0.01754386</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- subset() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -{{{ -->
</div>
<div id="subset" class="section level3">
<h3>subset()</h3>
<p>‘subset()’ does what its name suggests, i.e. it subsets a dataset using the provided condition. It returns a new ‘soundcorrs’ object.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="co"># select only examples from L2’s northern dialect</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="kw">subset</span> (d.abc, DIALECT.L2<span class="op">==</span><span class="st">&quot;north&quot;</span>) <span class="op">$</span>data</a>
<a class="sourceLine" id="cb23-3" title="3"><span class="co">#&gt;   ID DIALECT.L1 ALIGNED.L1 ORTHOGRAPHY.L1 DIALECT.L2 ALIGNED.L2</span></a>
<a class="sourceLine" id="cb23-4" title="4"><span class="co">#&gt; 3  3        std      a|b|c            abc      north      o|b|c</span></a>
<a class="sourceLine" id="cb23-5" title="5"><span class="co">#&gt; 4  4        std    a|b|a|c           abac      north    u|w|u|c</span></a>
<a class="sourceLine" id="cb23-6" title="6"><span class="co">#&gt;   ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb23-7" title="7"><span class="co">#&gt; 3           aobc</span></a>
<a class="sourceLine" id="cb23-8" title="8"><span class="co">#&gt; 4           uwuc</span></a>
<a class="sourceLine" id="cb23-9" title="9"></a>
<a class="sourceLine" id="cb23-10" title="10"><span class="co"># select only capitals of countries where German is an official language</span></a>
<a class="sourceLine" id="cb23-11" title="11"><span class="kw">subset</span> (d.cap, <span class="kw">grepl</span>(<span class="st">&quot;German&quot;</span>,d.cap<span class="op">$</span>data<span class="op">$</span>OFFICIAL.LANGUAGE)) <span class="op">$</span>data</a>
<a class="sourceLine" id="cb23-12" title="12"><span class="co">#&gt;           ALIGNED.German ORTHOGRAPHY.German        ALIGNED.Polish</span></a>
<a class="sourceLine" id="cb23-13" title="13"><span class="co">#&gt; 5  l|u|k|s|ə|m|b|u|r|k|-          Luxemburg l|u|k|s|e|m|b|u|r|k|-</span></a>
<a class="sourceLine" id="cb23-14" title="14"><span class="co">#&gt; 19         v|ī|-|-|-|n|-               Wien         ẃ|-|e|d|e|ń|-</span></a>
<a class="sourceLine" id="cb23-15" title="15"><span class="co">#&gt; 21           b|ä|r|l|ī|n             Berlin           b|e|r|l|i|n</span></a>
<a class="sourceLine" id="cb23-16" title="16"><span class="co">#&gt; 23     b|r|ü|-|s|ə|l|-|-            Brüssel     b|r|u|k|s|e|l|a|-</span></a>
<a class="sourceLine" id="cb23-17" title="17"><span class="co">#&gt;    ORTHOGRAPHY.Polish       ALIGNED.Spanish  ORTHOGRAPHY.Spanish</span></a>
<a class="sourceLine" id="cb23-18" title="18"><span class="co">#&gt; 5          Luksemburg l|u|k|s|e|m|b|u|r|γ|o Ciudad_de_Luxemburgo</span></a>
<a class="sourceLine" id="cb23-19" title="19"><span class="co">#&gt; 19             Wiedeń         b|j|e|-|-|n|a                Viena</span></a>
<a class="sourceLine" id="cb23-20" title="20"><span class="co">#&gt; 21             Berlin           b|e|r|l|i|n               Berlín</span></a>
<a class="sourceLine" id="cb23-21" title="21"><span class="co">#&gt; 23           Bruksela     b|r|u|-|s|e|l|a|s             Bruselas</span></a>
<a class="sourceLine" id="cb23-22" title="22"><span class="co">#&gt;              OFFICIAL.LANGUAGE</span></a>
<a class="sourceLine" id="cb23-23" title="23"><span class="co">#&gt; 5  Luxembourgish,French,German</span></a>
<a class="sourceLine" id="cb23-24" title="24"><span class="co">#&gt; 19                      German</span></a>
<a class="sourceLine" id="cb23-25" title="25"><span class="co">#&gt; 21                      German</span></a>
<a class="sourceLine" id="cb23-26" title="26"><span class="co">#&gt; 23         Dutch,French,German</span></a>
<a class="sourceLine" id="cb23-27" title="27"></a>
<a class="sourceLine" id="cb23-28" title="28"><span class="co"># select only pairs in which L1 a : L2 a</span></a>
<a class="sourceLine" id="cb23-29" title="29"><span class="kw">subset</span> (d.abc, <span class="kw">findPairs</span>(d.abc,<span class="st">&quot;a&quot;</span>,<span class="st">&quot;a&quot;</span>)<span class="op">$</span>which) <span class="op">$</span>data</a>
<a class="sourceLine" id="cb23-30" title="30"><span class="co">#&gt;   ID DIALECT.L1 ALIGNED.L1 ORTHOGRAPHY.L1 DIALECT.L2 ALIGNED.L2</span></a>
<a class="sourceLine" id="cb23-31" title="31"><span class="co">#&gt; 1  1        std      a|b|c            abc        std      a|b|c</span></a>
<a class="sourceLine" id="cb23-32" title="32"><span class="co">#&gt; 2  2        std    a|b|a|c           abac        std    a|b|a|c</span></a>
<a class="sourceLine" id="cb23-33" title="33"><span class="co">#&gt; 5  5        std    a|b|c|-            abc      south    a|b|c|ə</span></a>
<a class="sourceLine" id="cb23-34" title="34"><span class="co">#&gt; 6  6        std  a|b|a|c|-           abac      south  a|b|a|c|ə</span></a>
<a class="sourceLine" id="cb23-35" title="35"><span class="co">#&gt;   ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb23-36" title="36"><span class="co">#&gt; 1            abc</span></a>
<a class="sourceLine" id="cb23-37" title="37"><span class="co">#&gt; 2           abac</span></a>
<a class="sourceLine" id="cb23-38" title="38"><span class="co">#&gt; 5           abca</span></a>
<a class="sourceLine" id="cb23-39" title="39"><span class="co">#&gt; 6          abaca</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- wide2long() - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - {{{ -->
</div>
<div id="wide2long" class="section level3">
<h3>wide2long()</h3>
<p>‘wide2long()’ is simply the inverse of ‘long2wide()’. The conversion may not be perfect, as the order of the columns may change.</p>
<p>In ‘long2wide()’, suffixes were taken from the values in the ‘LANGUAGE’ column; this time they must be specified explicitly. They will be stored in a column defined by the argument ‘col.lang’, which defaults to ‘LANGUAGE’. However, the string that separated column names from suffixes will not be removed by default. To strip it, the argument ‘strip’ needs to be set to the length of the separator.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="co"># let us use the converted “abc” dataset</span></a>
<a class="sourceLine" id="cb24-2" title="2">abc.wide</a>
<a class="sourceLine" id="cb24-3" title="3"><span class="co">#&gt;   ID DIALECT.L1 ALIGNED.L1 ORTHOGRAPHY.L1 DIALECT.L2 ALIGNED.L2</span></a>
<a class="sourceLine" id="cb24-4" title="4"><span class="co">#&gt; 1  1        std      a|b|c            abc        std      a|b|c</span></a>
<a class="sourceLine" id="cb24-5" title="5"><span class="co">#&gt; 2  2        std    a|b|a|c           abac        std    a|b|a|c</span></a>
<a class="sourceLine" id="cb24-6" title="6"><span class="co">#&gt; 3  3        std      a|b|c            abc      north      o|b|c</span></a>
<a class="sourceLine" id="cb24-7" title="7"><span class="co">#&gt; 4  4        std    a|b|a|c           abac      north    u|w|u|c</span></a>
<a class="sourceLine" id="cb24-8" title="8"><span class="co">#&gt; 5  5        std    a|b|c|-            abc      south    a|b|c|ə</span></a>
<a class="sourceLine" id="cb24-9" title="9"><span class="co">#&gt; 6  6        std  a|b|a|c|-           abac      south  a|b|a|c|ə</span></a>
<a class="sourceLine" id="cb24-10" title="10"><span class="co">#&gt;   ORTHOGRAPHY.L2</span></a>
<a class="sourceLine" id="cb24-11" title="11"><span class="co">#&gt; 1            abc</span></a>
<a class="sourceLine" id="cb24-12" title="12"><span class="co">#&gt; 2           abac</span></a>
<a class="sourceLine" id="cb24-13" title="13"><span class="co">#&gt; 3           aobc</span></a>
<a class="sourceLine" id="cb24-14" title="14"><span class="co">#&gt; 4           uwuc</span></a>
<a class="sourceLine" id="cb24-15" title="15"><span class="co">#&gt; 5           abca</span></a>
<a class="sourceLine" id="cb24-16" title="16"><span class="co">#&gt; 6          abaca</span></a>
<a class="sourceLine" id="cb24-17" title="17"></a>
<a class="sourceLine" id="cb24-18" title="18"><span class="co"># with the separator preserved</span></a>
<a class="sourceLine" id="cb24-19" title="19"><span class="kw">wide2long</span> (abc.wide, <span class="kw">c</span>(<span class="st">&quot;.L1&quot;</span>,<span class="st">&quot;.L2&quot;</span>))</a>
<a class="sourceLine" id="cb24-20" title="20"><span class="co">#&gt;      ALIGNED DIALECT ORTHOGRAPHY ID LANGUAGE</span></a>
<a class="sourceLine" id="cb24-21" title="21"><span class="co">#&gt; 1      a|b|c     std         abc  1      .L1</span></a>
<a class="sourceLine" id="cb24-22" title="22"><span class="co">#&gt; 2    a|b|a|c     std        abac  2      .L1</span></a>
<a class="sourceLine" id="cb24-23" title="23"><span class="co">#&gt; 3      a|b|c     std         abc  3      .L1</span></a>
<a class="sourceLine" id="cb24-24" title="24"><span class="co">#&gt; 4    a|b|a|c     std        abac  4      .L1</span></a>
<a class="sourceLine" id="cb24-25" title="25"><span class="co">#&gt; 5    a|b|c|-     std         abc  5      .L1</span></a>
<a class="sourceLine" id="cb24-26" title="26"><span class="co">#&gt; 6  a|b|a|c|-     std        abac  6      .L1</span></a>
<a class="sourceLine" id="cb24-27" title="27"><span class="co">#&gt; 7      a|b|c     std         abc  1      .L2</span></a>
<a class="sourceLine" id="cb24-28" title="28"><span class="co">#&gt; 8    a|b|a|c     std        abac  2      .L2</span></a>
<a class="sourceLine" id="cb24-29" title="29"><span class="co">#&gt; 9      o|b|c   north        aobc  3      .L2</span></a>
<a class="sourceLine" id="cb24-30" title="30"><span class="co">#&gt; 10   u|w|u|c   north        uwuc  4      .L2</span></a>
<a class="sourceLine" id="cb24-31" title="31"><span class="co">#&gt; 11   a|b|c|ə   south        abca  5      .L2</span></a>
<a class="sourceLine" id="cb24-32" title="32"><span class="co">#&gt; 12 a|b|a|c|ə   south       abaca  6      .L2</span></a>
<a class="sourceLine" id="cb24-33" title="33"></a>
<a class="sourceLine" id="cb24-34" title="34"><span class="co"># and with the separator removed</span></a>
<a class="sourceLine" id="cb24-35" title="35"><span class="kw">wide2long</span> (abc.wide, <span class="kw">c</span>(<span class="st">&quot;.L1&quot;</span>,<span class="st">&quot;.L2&quot;</span>), <span class="dt">strip=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb24-36" title="36"><span class="co">#&gt;      ALIGNED DIALECT ORTHOGRAPHY ID LANGUAGE</span></a>
<a class="sourceLine" id="cb24-37" title="37"><span class="co">#&gt; 1      a|b|c     std         abc  1       L1</span></a>
<a class="sourceLine" id="cb24-38" title="38"><span class="co">#&gt; 2    a|b|a|c     std        abac  2       L1</span></a>
<a class="sourceLine" id="cb24-39" title="39"><span class="co">#&gt; 3      a|b|c     std         abc  3       L1</span></a>
<a class="sourceLine" id="cb24-40" title="40"><span class="co">#&gt; 4    a|b|a|c     std        abac  4       L1</span></a>
<a class="sourceLine" id="cb24-41" title="41"><span class="co">#&gt; 5    a|b|c|-     std         abc  5       L1</span></a>
<a class="sourceLine" id="cb24-42" title="42"><span class="co">#&gt; 6  a|b|a|c|-     std        abac  6       L1</span></a>
<a class="sourceLine" id="cb24-43" title="43"><span class="co">#&gt; 7      a|b|c     std         abc  1       L2</span></a>
<a class="sourceLine" id="cb24-44" title="44"><span class="co">#&gt; 8    a|b|a|c     std        abac  2       L2</span></a>
<a class="sourceLine" id="cb24-45" title="45"><span class="co">#&gt; 9      o|b|c   north        aobc  3       L2</span></a>
<a class="sourceLine" id="cb24-46" title="46"><span class="co">#&gt; 10   u|w|u|c   north        uwuc  4       L2</span></a>
<a class="sourceLine" id="cb24-47" title="47"><span class="co">#&gt; 11   a|b|c|ə   south        abca  5       L2</span></a>
<a class="sourceLine" id="cb24-48" title="48"><span class="co">#&gt; 12 a|b|a|c|ə   south       abaca  6       L2</span></a></code></pre></div>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - }}} -->
<!-- --------------------------------------------------------------------------------------------- }}} -->
<!-- ============================================================================================= }}} -->
<!-- citation ==================================================================================== {{{ -->
</div>
</div>
</div>
<div id="contact-citation" class="section level1">
<h1>Contact, citation</h1>
<p>If you found a bug, have a remark to make about ‘soundcorrs’, or wishes for its future releases, please write to <a href="mailto:kamil.stachowski@gmail.com">kamil.stachowski@gmail.com</a>.</p>
<p>If you use ‘soundcorrs’ in your research, please cite it as Stachowski K. [forthcoming]. soundcorrs: Tools for Semi-Automatic Analysis of Sound Correspondences.</p>
<!-- ============================================================================================= }}} -->
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
